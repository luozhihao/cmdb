webpackJsonp([9,17],[,function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var s=n(26)("wks"),r=n(20),a=n(1).Symbol,l="function"==typeof a,i=e.exports=function(e){return s[e]||(s[e]=l&&a[e]||(l?a:r)("Symbol."+e))};i.store=s},function(e,t,n){e.exports=!n(14)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},,,function(e,t,n){var s=n(9),r=n(19);e.exports=n(3)?function(e,t,n){return s.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var s=n(10),r=n(35),a=n(32),l=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(s(e),t=a(t,!0),s(n),r)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var s=n(13);e.exports=function(e){if(!s(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var s=n(30),r=n(15);e.exports=function(e){return s(r(e))}},function(e,t){e.exports={}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,s=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?s:n)(e)}},function(e,t,n){var s=n(26)("keys"),r=n(20);e.exports=function(e){return s[e]||(s[e]=r(e))}},function(e,t,n){var s=n(1),r=n(7),a=n(44),l=n(6),i="prototype",o=function(e,t,n){var c,d,p,v=e&o.F,u=e&o.G,h=e&o.S,f=e&o.P,m=e&o.B,b=e&o.W,g=u?r:r[t]||(r[t]={}),y=g[i],A=u?s:h?s[t]:(s[t]||{})[i];u&&(n=t);for(c in n)d=!v&&A&&void 0!==A[c],d&&c in g||(p=d?A[c]:n[c],g[c]=u&&"function"!=typeof A[c]?n[c]:m&&d?a(p,s):b&&A[c]==p?function(e){var t=function(t,n,s){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,s)}return e.apply(this,arguments)};return t[i]=e[i],t}(p):f&&"function"==typeof p?a(Function.call,p):p,f&&((g.virtual||(g.virtual={}))[c]=p,e&o.R&&y&&!y[c]&&l(y,c,p)))};o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,o.U=64,o.R=128,e.exports=o},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,s=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+s).toString(36))}},function(e,t,n){var s,r;n(68),s=n(48),r=n(69),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default),r&&(("function"==typeof e.exports?e.exports.options:e.exports).template=r)},,function(e,t,n){var s=n(36),r=n(25);e.exports=Object.keys||function(e){return s(e,r)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var s=n(1),r="__core-js_shared__",a=s[r]||(s[r]={});e.exports=function(e){return a[e]||(a[e]={})}},function(e,t,n){var s=n(9).f,r=n(8),a=n(2)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,a)&&s(e,a,{configurable:!0,value:t})}},function(e,t,n){var s=n(13),r=n(1).document,a=s(r)&&s(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},function(e,t,n){"use strict";var s=n(34),r=n(18),a=n(39),l=n(6),i=n(8),o=n(12),c=n(57),d=n(27),p=n(60),v=n(2)("iterator"),u=!([].keys&&"next"in[].keys()),h="@@iterator",f="keys",m="values",b=function(){return this};e.exports=function(e,t,n,g,y,A,x){c(n,t,g);var _,w,M,k=function(e){if(!u&&e in L)return L[e];switch(e){case f:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},T=t+" Iterator",C=y==m,$=!1,L=e.prototype,P=L[v]||L[h]||y&&L[y],j=P||k(y),N=y?C?k("entries"):j:void 0,B="Array"==t?L.entries||P:P;if(B&&(M=p(B.call(new e)),M!==Object.prototype&&(d(M,T,!0),s||i(M,v)||l(M,v,b))),C&&P&&P.name!==m&&($=!0,j=function(){return P.call(this)}),s&&!x||!u&&!$&&L[v]||l(L,v,j),o[t]=j,o[T]=b,y)if(_={values:C?j:k(m),keys:A?j:k(f),entries:N},x)for(w in _)w in L||a(L,w,_[w]);else r(r.P+r.F*(u||$),t,_);return _}},function(e,t,n){var s=n(24);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==s(e)?e.split(""):Object(e)}},function(e,t,n){var s=n(15);e.exports=function(e){return Object(s(e))}},function(e,t,n){var s=n(13);e.exports=function(e,t){if(!s(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!s(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!s(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!s(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},,function(e,t){e.exports=!0},function(e,t,n){e.exports=!n(3)&&!n(14)(function(){return 7!=Object.defineProperty(n(28)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var s=n(8),r=n(11),a=n(43)(!1),l=n(17)("IE_PROTO");e.exports=function(e,t){var n,i=r(e),o=0,c=[];for(n in i)n!=l&&s(i,n)&&c.push(n);for(;t.length>o;)s(i,n=t[o++])&&(~a(c,n)||c.push(n));return c}},function(e,t,n){e.exports={default:n(78),__esModule:!0}},function(e,t,n){var s=n(10),r=n(59),a=n(25),l=n(17)("IE_PROTO"),i=function(){},o="prototype",c=function(){var e,t=n(28)("iframe"),s=a.length,r=">";for(t.style.display="none",n(56).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object</script"+r),e.close(),c=e.F;s--;)delete c[o][a[s]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(i[o]=s(e),n=new i,i[o]=null,n[l]=e):n=c(),void 0===t?n:r(n,t)}},function(e,t,n){e.exports=n(6)},function(e,t,n){"use strict";var s=n(62)(!0);n(29)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=s(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){n(65);for(var s=n(1),r=n(6),a=n(12),l=n(2)("toStringTag"),i=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],o=0;o<5;o++){var c=i[o],d=s[c],p=d&&d.prototype;p&&!p[l]&&r(p,l,c),a[c]=a.Array}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var s=n(11),r=n(46),a=n(45);e.exports=function(e){return function(t,n,l){var i,o=s(t),c=r(o.length),d=a(l,c);if(e&&n!=n){for(;c>d;)if(i=o[d++],i!=i)return!0}else for(;c>d;d++)if((e||d in o)&&o[d]===n)return e||d||0;return!e&&-1}}},function(e,t,n){var s=n(42);e.exports=function(e,t,n){if(s(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,s){return e.call(t,n,s)};case 3:return function(n,s,r){return e.call(t,n,s,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var s=n(16),r=Math.max,a=Math.min;e.exports=function(e,t){return e=s(e),e<0?r(e+t,0):a(e,t)}},function(e,t,n){var s=n(16),r=Math.min;e.exports=function(e){return e>0?r(s(e),9007199254740991):0}},,function(e,t,n){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(51),a=s(r),l=n(49),i=s(l);t.default=(0,a.default)({props:{options:{type:Array,default:function(){return[]}},value:{twoWay:!0},placeholder:{type:String,default:"Nothing Selected"},multiple:{type:Boolean,default:!1},search:{type:Boolean,default:!1},limit:{type:Number,default:1024},closeOnSelect:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},ready:function(){this.multiple&&(this.value=[])},data:function(){return{searchText:null,show:!1,showNotify:!1}},computed:{selectedItems:function(){if(this.multiple){if(this.options.length){var e=[],t=!0,n=!1,s=void 0;try{for(var r,a=(0,i.default)(this.options);!(t=(r=a.next()).done);t=!0){var l=r.value;this.value.indexOf(l.value)!==-1&&e.push(l.label)}}catch(e){n=!0,s=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw s}}return e.join(", ")}var o=[],c=!0,d=!1,p=void 0;try{for(var v,u=(0,i.default)(this.$children);!(c=(v=u.next()).done);c=!0){var h=v.value;this.value.indexOf(h.value)!==-1&&o.push(h.$els.v.innerText)}}catch(e){d=!0,p=e}finally{try{!c&&u.return&&u.return()}finally{if(d)throw p}}return o.join(",")}if(this.options.length){for(var f=0;f<this.options.length;f++)if(this.options[f].value===this.value)return this.options[f].label}else{var m=!0,b=!1,g=void 0;try{for(var y,A=(0,i.default)(this.$children);!(m=(y=A.next()).done);m=!0){var h=y.value;if(h.value==this.value)return h.$els.v.innerText}}catch(e){b=!0,g=e}finally{try{!m&&A.return&&A.return()}finally{if(b)throw g}}}return""},showPlaceholder:function(){return this.multiple?this.value.length<=0:"undefined"==typeof this.value||""==this.value}},watch:{value:function(e){var t=this,n=void 0;n&&clearTimeout(n),e.length>this.limit&&(this.showNotify=!0,this.value.pop(),n=setTimeout(function(){return t.showNotify=!1},1e3))}},methods:{select:function(e){if(0!=this.multiple){var t=this.value.indexOf(e);t===-1?this.value.push(e):this.value.$remove(e)}else this.value===e?this.value="":this.value=e,this.closeOnSelect&&this.toggleDropdown()},toggleDropdown:function(){return this.show=!this.show,!1}}},"ready",function(){var t=this;e(document).click(function(n){var s=e(n.target);0===s.closest(".btn-group").length&&e(".btn-group").hasClass("open")&&(t.show=!1)})})}).call(t,n(76))},function(e,t,n){e.exports={default:n(52),__esModule:!0}},function(e,t,n){e.exports={default:n(53),__esModule:!0}},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(50),a=s(r);t.default=function(e,t,n){return t in e?(0,a.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){n(41),n(40),e.exports=n(64)},function(e,t,n){n(66);var s=n(7).Object;e.exports=function(e,t,n){return s.defineProperty(e,t,n)}},function(e,t){e.exports=function(){}},function(e,t,n){var s=n(24),r=n(2)("toStringTag"),a="Arguments"==s(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=l(t=Object(e),r))?n:a?s(t):"Object"==(i=s(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t,n){e.exports=n(1).document&&document.documentElement},function(e,t,n){"use strict";var s=n(38),r=n(19),a=n(27),l={};n(6)(l,n(2)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=s(l,{next:r(1,n)}),a(e,t+" Iterator")}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var s=n(9),r=n(10),a=n(23);e.exports=n(3)?Object.defineProperties:function(e,t){r(e);for(var n,l=a(t),i=l.length,o=0;i>o;)s.f(e,n=l[o++],t[n]);return e}},function(e,t,n){var s=n(8),r=n(31),a=n(17)("IE_PROTO"),l=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),s(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var s=n(16),r=n(15);e.exports=function(e){return function(t,n){var a,l,i=String(r(t)),o=s(n),c=i.length;return o<0||o>=c?e?"":void 0:(a=i.charCodeAt(o),a<55296||a>56319||o+1===c||(l=i.charCodeAt(o+1))<56320||l>57343?e?i.charAt(o):a:e?i.slice(o,o+2):(a-55296<<10)+(l-56320)+65536)}}},function(e,t,n){var s=n(55),r=n(2)("iterator"),a=n(12);e.exports=n(7).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||a[s(e)]}},function(e,t,n){var s=n(10),r=n(63);e.exports=n(7).getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return s(t.call(e))}},function(e,t,n){"use strict";var s=n(54),r=n(58),a=n(12),l=n(11);e.exports=n(29)(Array,"Array",function(e,t){this._t=l(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):"keys"==t?r(0,n):"values"==t?r(0,e[n]):r(0,[n,e[n]])},"values"),a.Arguments=a.Array,s("keys"),s("values"),s("entries")},function(e,t,n){var s=n(18);s(s.S+s.F*!n(3),"Object",{defineProperty:n(9).f})},function(e,t,n){t=e.exports=n(4)(),t.push([e.id,".bs_searchbox{padding:4px 8px}.btn-group .dropdown-menu .notify{position:absolute;bottom:5px;width:96%;margin:0 2%;min-height:26px;padding:3px 5px;background:#f5f5f5;border:1px solid #e3e3e3;box-shadow:inset 0 1px 1px rgba(0,0,0,.05);pointer-events:none;opacity:.9}.search-list{width:100%;max-height:300px;overflow-y:auto;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;font-size:14px;text-align:left;list-style:none;background-color:#fff}.search-list>li>a{cursor:pointer;display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;color:#333;white-space:nowrap}.search-list>li>a:focus,.search-list>li>a:hover{color:#262626;text-decoration:none;background-color:#f5f5f5}","",{version:3,sources:["/./src/components/global/Select.vue.style"],names:[],mappings:"AAoLA,cACA,eAAA,CACA,AACA,kCACA,kBAAA,AACA,WAAA,AACA,UAAA,AACA,YAAA,AACA,gBAAA,AACA,gBAAA,AACA,mBAAA,AACA,yBAAA,AACA,2CAAA,AACA,oBAAA,AACA,UAAA,CACA,AAEA,aACA,WAAA,AACA,iBAAA,AACA,gBAAA,AACA,WAAA,AACA,gBAAA,AACA,cAAA,AACA,eAAA,AACA,eAAA,AACA,gBAAA,AACA,gBAAA,AACA,qBAAA,CACA,AAEA,kBACA,eAAA,AACA,cAAA,AACA,iBAAA,AACA,WAAA,AACA,gBAAA,AACA,uBAAA,AACA,WAAA,AACA,kBAAA,CACA,AAEA,gDACA,cAAA,AACA,qBAAA,AACA,wBAAA,CACA",file:"Select.vue",sourcesContent:['<template>\n  <div class="btn-group" v-bind:class="{open:show}">\n    <button v-el:btn type="button" class="btn btn-default dropdown-toggle" \n      @click="toggleDropdown"\n      @blur="show = (search ? show:false)"\n      :disabled="disabled"\n    >\n      <span class="placeholder" v-show="showPlaceholder">{{placeholder}}</span>\n      <span class="content">{{ selectedItems }}</span>\n      <span class="caret"></span>\n    </button>\n    <ul class="dropdown-menu">\n      <template v-if="options.length">\n        <li v-if="search" class="bs-searchbox">\n          <input type="text" placeholder="Search" v-model="searchText" class="form-control" autocomplete="off">\n        </li>\n        <ul class="search-list">\n            <li v-for="option in options | filterBy searchText " v-bind:id="option.value" style="position:relative">\n              <a @mousedown.prevent="select(option.value)" style="cursor:pointer">\n                {{ option.label }}\n                <span class="glyphicon glyphicon-ok check-mark" v-show="multiple ? value.indexOf(option.value) !== -1 : value === option.value"></span>\n              </a>\n            </li>\n        </ul>\n      </template>\n      <slot v-else></slot>\n      <div class="notify" v-show="showNotify" transition="fadein">最多选择 ({{limit}} 个)</div>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n    props: {\n        options: {\n            type: Array,\n            default() { return [] },\n        },\n        value: {\n            twoWay: true\n        },\n        placeholder: {\n            type: String,\n            default: \'Nothing Selected\'\n        },\n        multiple: {\n            type: Boolean,\n            default: false\n        },\n        search: { // Allow searching (only works when options are provided)\n      \t    type: Boolean,\n      \t    default: false\n        },\n        limit: {\n            type: Number,\n            default: 1024\n        },\n        closeOnSelect: { // only works when multiple==false\n            type: Boolean,\n            default: true\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        }\n    },\n    ready() {\n        if (this.multiple) {\n            this.value=[]\n        }\n    },\n    data() {\n        return {\n            searchText: null,\n            show: false,\n            showNotify: false\n        }\n    },\n    computed: {\n        selectedItems() {\n            if (!this.multiple) {\n                if (!this.options.length) {\n                    for (var c of this.$children) {\n                        if (c.value == this.value) {\n                            return c.$els.v.innerText\n                        }\n                    }\n                } else {\n                    for(var i = 0; i<this.options.length; i++) {\n                        if (this.options[i].value === this.value) {\n                            return this.options[i].label;\n                        }\n                    }\n                }\n\n                return ""\n            } else {\n                if (!this.options.length){\n        \t\t\tvar r = []\n                    for(var c of this.$children){\n                        if(this.value.indexOf(c.value)!==-1){\n                            r.push(c.$els.v.innerText)\n                        }\n                    }\n                    \n                    return r.join(\',\');\n\n                } else {\n\n    \t\t\t    // we were given bunch of options, so pluck them out to display\n          \t\t\tvar foundItems = [];\n\n                    for (var item of this.options){\n                  \t    if (this.value.indexOf(item.value) !== -1)\n                      \tfoundItems.push(item.label);\n      \t\t\t    }\n\n                    return foundItems.join(\', \');\n                }\n            }\n        },\n        showPlaceholder() {\n          \treturn this.multiple ? this.value.length <= 0 : (typeof this.value===\'undefined\' || this.value==\'\');\n        }\n    },\n    watch: {\n        value(val) {\n            let timeout\n            if (timeout) clearTimeout(timeout)\n                if (val.length > this.limit) {\n                    this.showNotify = true\n                    this.value.pop()\n                    timeout = setTimeout(()=> this.showNotify = false, 1000)\n                }\n        }\n    },\n    methods: {\n        select(v) {\n            if(this.multiple != false){\n                var index = this.value.indexOf(v);\n                if (index === -1) {\n                    this.value.push(v);\n                }\n                else {\n                    this.value.$remove(v)\n                }\n            } else {\n                if (this.value === v) {\n                    this.value = \'\'\n                } else {\n                    this.value = v\n                }\n\n                if (this.closeOnSelect) {\n                    this.toggleDropdown();\n                }\n            }\n        },\n        toggleDropdown() {\n            this.show = !this.show\n\n            return false\n        }\n    },\n\n    ready () {\n        let _this = this\n        $(document).click(function(e){\n            var target = $(e.target);\n\n            if (target.closest(".btn-group").length === 0) {\n                if ($(\'.btn-group\').hasClass(\'open\')) {\n                    _this.show = false\n                }\n            }\n        });\n    }\n}\n</script>\n<style>\n.bs_searchbox {\n  padding: 4px 8px;\n}\n.btn-group .dropdown-menu .notify {\n  position: absolute;\n  bottom: 5px;\n  width: 96%;\n  margin: 0 2%;\n  min-height: 26px;\n  padding: 3px 5px;\n  background: #f5f5f5;\n  border: 1px solid #e3e3e3;\n  box-shadow: inset 0 1px 1px rgba(0,0,0,.05);\n   pointer-events: none;\n  opacity: .9;\n}\n\n.search-list {\n    width: 100%;\n    max-height: 300px;\n    overflow-y: auto;\n    float: left;\n    min-width: 160px;\n    padding: 5px 0;\n    margin: 2px 0 0;\n    font-size: 14px;\n    text-align: left;\n    list-style: none;\n    background-color: #fff;\n}\n\n.search-list > li > a {\n    cursor: pointer;\n    display: block;\n    padding: 3px 20px;\n    clear: both;\n    font-weight: 400;\n    line-height: 1.42857143;\n    color: #333;\n    white-space: nowrap;\n}\n\n.search-list>li>a:focus, .search-list>li>a:hover {\n    color: #262626;\n    text-decoration: none;\n    background-color: #f5f5f5;\n}\n</style>'],sourceRoot:"webpack://"}])},function(e,t,n){var s=n(67);"string"==typeof s&&(s=[[e.id,s,""]]);n(5)(s,{});s.locals&&(e.exports=s.locals)},function(e,t){e.exports='<div class=btn-group v-bind:class={open:show}> <button v-el:btn type=button class="btn btn-default dropdown-toggle" @click=toggleDropdown @blur="show = (search ? show:false)" :disabled=disabled> <span class=placeholder v-show=showPlaceholder>{{placeholder}}</span> <span class=content>{{ selectedItems }}</span> <span class=caret></span> </button> <ul class=dropdown-menu> <template v-if=options.length> <li v-if=search class=bs-searchbox> <input type=text placeholder=Search v-model=searchText class=form-control autocomplete=off> </li> <ul class=search-list> <li v-for="option in options | filterBy searchText " v-bind:id=option.value style=position:relative> <a @mousedown.prevent=select(option.value) style=cursor:pointer> {{ option.label }} <span class="glyphicon glyphicon-ok check-mark" v-show="multiple ? value.indexOf(option.value) !== -1 : value === option.value"></span> </a> </li> </ul> </template> <slot v-else></slot> <div class=notify v-show=showNotify transition=fadein>最多选择 ({{limit}} 个)</div> </ul> </div>'},function(e,t,n){var s,r;n(74),s=n(71),r=n(75),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default),r&&(("function"==typeof e.exports?e.exports.options:e.exports).template=r)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{pages:{type:Array,default:function(){return[1]}},async:{type:Boolean,default:!1},len:{type:Number,default:10},lens:{type:Array,default:function(){return[10,50,100]}},data:{type:Array,default:function(){return[]}},url:{type:String,default:""},pageLen:{type:Number,default:5},param:{type:Object,default:function(){return{}}}},data:function(){return{activeNum:0,pageTotal:1,total:0}},methods:{onPageClick:function(e){this.activeNum=e},onPrevClick:function(){if(this.activeNum>0)this.activeNum=this.activeNum-1;else if(1!==this.pages[0]){for(var e=[],t=0;t<this.pages.length;t++)e[t]=this.pages[t]-1;this.pages=e,this.getData()}},onNextClick:function(){if(this.activeNum<this.pages.length-1)this.activeNum=this.activeNum+1;else if(this.pages[this.pages.length-1]<this.pageTotal){for(var e=[],t=0;t<this.pages.length;t++)e[t]=this.pages[t]+1;this.pages=e,this.getData()}},onFirstClick:function(){if(1===this.pages[0])this.activeNum=0;else{for(var e=[],t=1;t<=this.pageLen;t++)e.push(t);this.pages=e,0===this.activeNum?this.getData():this.activeNum=0}},onLastClick:function(){if(this.pageTotal<=this.pageLen)this.activeNum=this.pages.length-1;else{for(var e=[],t=this.pageLen-1;t>=0;t--)e.push(this.pageTotal-t);this.pages=e,this.activeNum===this.pages.length-1?this.getData():this.activeNum=this.pages.length-1}},getPages:function(){if(this.pages=[],this.async||(this.pageTotal=Math.ceil(this.data.length/this.len)),this.pageTotal<=this.pageLen)for(var e=1;e<=this.pageTotal;e++)this.pages.push(e);else for(var t=1;t<=this.pageLen;t++)this.pages.push(t)},getData:function(){if(this.async)this.param.active=this.pages[this.activeNum],this.param.len=this.len,this.$http({url:this.url,method:"POST",data:this.param}).then(function(e){this.pageTotal=e.data.page_num,this.total=e.data.total,(this.pages.length!==this.pageLen||this.pageTotal<this.pageLen)&&this.getPages(),e.data.data.length||(this.activeNum=this.pageTotal-1),this.$dispatch("data",e.data)});else{for(var e=this.len,t=this.pages[this.activeNum]-1,n=[],s=t*e;s<t*e+e;s++)void 0!==this.data[s]?n.push(this.data[s]):"";this.$dispatch("data",n)}},refresh:function(){this.getData()},refresh2:function(){this.pages=[1],0===this.activeNum?this.getData():this.activeNum=0}},ready:function(){this.async||this.getPages(),this.getData()},watch:{len:function(e,t){this.async?this.refresh2():(this.getPages(),this.activeNum+1>this.pages.length&&(this.activeNum=this.pages.length-1),this.getData())},activeNum:function(e,t){this.getData()}},events:{"refresh::page":function(){this.refresh()},"refresh2::page":function(){this.refresh2()}}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){t=e.exports=n(4)(),t.push([e.id,".boot-select[_v-e02c81fc]{float:right;width:80px}.boot-nav[_v-e02c81fc]{float:right}.boot-page[_v-e02c81fc]{margin:2px 10px 0 20px}.boot-page[_v-e02c81fc],.page-total[_v-e02c81fc]{display:inline-block;vertical-align:middle}","",{version:3,sources:["/./src/components/global/BootPage.vue.style"],names:[],mappings:"AAuSA,0BACA,YAAA,AACA,UAAA,CACA,AAEA,uBACA,WAAA,CACA,AAEA,wBAEA,sBAAA,CAEA,AAEA,iDALA,qBAAA,AAEA,qBAAA,CAMA",file:"BootPage.vue",sourcesContent:['<!-- 表格分页组件 -->\r\n<template>\r\n    <nav class="boot-nav">\r\n        <ul class="pagination boot-page">\r\n            <li>\r\n                <a href="javascript:void(0)" aria-label="Previous" @click="onFirstClick()">\r\n                    <span aria-hidden="true">&laquo;</span>\r\n                </a>\r\n            </li>\r\n            <li>\r\n                <a href="javascript:void(0)" aria-label="Next" @click="onPrevClick()">\r\n                    <span aria-hidden="true">‹</span>\r\n                </a>\r\n            </li>\r\n            <li v-for="page in pages" :class="activeNum === $index ? \'active\' : \'\'">\r\n                <a href="javascript:void(0)" v-text="page" @click="onPageClick($index)"></a>\r\n            </li>\r\n            <li>\r\n                <a href="javascript:void(0)" aria-label="Next" @click="onNextClick()">\r\n                    <span aria-hidden="true">›</span>\r\n                </a>\r\n            </li>\r\n            <li>\r\n                <a href="javascript:void(0)" aria-label="Next" @click="onLastClick()">\r\n                    <span aria-hidden="true">&raquo;</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class="page-total">\r\n            共 <span v-text="pageTotal"></span> 页 / (共<span v-text="total"></span>条)\r\n        </div>\r\n    </nav>\r\n    <select class="form-control boot-select" v-model="len">\r\n        <option v-for="arr in lens" :value="arr" v-text="arr" :selected="$index === 0 ? true : false"></option>\r\n    </select>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n\r\n        // 页码\r\n        pages: {\r\n            type: Array,\r\n            default: function () {\r\n                return [1]\r\n            }\r\n        },\r\n\r\n        // 是否请求服务器端数据\r\n        async: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        // 每页显示个数\r\n        len: {\r\n            type: Number,\r\n            default: 10\r\n        },\r\n\r\n        // 显示个数数组\r\n        lens: {\r\n            type: Array,\r\n            default: function () {\r\n                return [10, 50, 100]\r\n            }\r\n        },\r\n\r\n        // 表格数据（数组）\r\n        data: {\r\n            type: Array,\r\n            default: function () {\r\n                return []\r\n            }\r\n        },\r\n\r\n        // AJAX地址\r\n        url: {\r\n            type: String,\r\n            default: \'\'\r\n        },\r\n\r\n        // 显示页数\r\n        pageLen: {\r\n            type: Number,\r\n            default: 5\r\n        },\r\n\r\n        // 参数内容\r\n        param: {\r\n            type: Object,\r\n            default: function () {\r\n                return {}\r\n            }\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            activeNum: 0,\r\n            pageTotal: 1,\r\n            total: 0\r\n        }\r\n    },\r\n    methods: {\r\n\r\n        // 点击页码刷新数据\r\n        onPageClick (index) {\r\n            this.activeNum = index\r\n        },\r\n\r\n        // 上一页\r\n        onPrevClick () {\r\n\r\n            // 当前页是否为当前最小页码\r\n            if (this.activeNum > 0) {\r\n                this.activeNum = this.activeNum - 1\r\n            } else {\r\n                if (this.pages[0] !== 1) {\r\n                    let newPages = []\r\n\r\n                    for (let i = 0; i < this.pages.length; i++) {\r\n                        newPages[i] = this.pages[i] - 1\r\n                    }\r\n\r\n                    this.pages = newPages\r\n                    this.getData()\r\n                }\r\n            }\r\n        },\r\n\r\n        // 下一页\r\n        onNextClick () {\r\n\r\n            // 当前页是否为当前最大页码\r\n            if (this.activeNum < this.pages.length - 1) {\r\n                this.activeNum = this.activeNum + 1\r\n            } else {\r\n                if (this.pages[this.pages.length - 1] < this.pageTotal) {\r\n                    let newPages = []\r\n\r\n                    for (let i = 0; i < this.pages.length; i++) {\r\n                        newPages[i] = this.pages[i] + 1\r\n                    }\r\n\r\n                    this.pages = newPages\r\n\r\n                    this.getData()\r\n                }\r\n            }\r\n        },\r\n\r\n        // 第一页\r\n        onFirstClick () {\r\n            if (this.pages[0] === 1) {\r\n                this.activeNum = 0\r\n            } else {\r\n                let originPage = []\r\n\r\n                for (let i = 1; i <= this.pageLen; i++) {\r\n                    originPage.push(i)\r\n                }\r\n\r\n                this.pages = originPage\r\n                this.activeNum === 0 ? this.getData() : this.activeNum = 0\r\n            }\r\n        },\r\n\r\n        // 最后一页\r\n        onLastClick () {\r\n            if (this.pageTotal <= this.pageLen) {\r\n                this.activeNum = this.pages.length - 1\r\n            } else {\r\n                let lastPage = []\r\n\r\n                for (let i = this.pageLen - 1; i >= 0; i--) {\r\n                    lastPage.push(this.pageTotal - i)\r\n                }\r\n\r\n                this.pages = lastPage\r\n                this.activeNum === this.pages.length - 1 ? this.getData() : this.activeNum = this.pages.length - 1\r\n            }\r\n        },\r\n\r\n        // 获取页码\r\n        getPages () {\r\n            this.pages = []\r\n\r\n            if (!this.async) {\r\n                this.pageTotal = Math.ceil(this.data.length / this.len)\r\n            }\r\n\r\n            // 比较总页码和显示页数\r\n            if (this.pageTotal <= this.pageLen) {\r\n                for (let i = 1; i <= this.pageTotal; i++) {\r\n                    this.pages.push(i)\r\n                }\r\n            } else {\r\n                for (let i = 1; i <= this.pageLen; i++) {\r\n                    this.pages.push(i)\r\n                }\r\n            }\r\n        },\r\n\r\n        // 页码变化获取数据\r\n        getData () {\r\n            if (!this.async) {\r\n                let len = this.len,\r\n                    pageNum = this.pages[this.activeNum] - 1,\r\n                    newData = [];\r\n\r\n                for (let i = pageNum * len; i < (pageNum * len + len); i++) {\r\n                    this.data[i] !== undefined ? newData.push(this.data[i]) : \'\'\r\n                }\r\n                \r\n                this.$dispatch(\'data\', newData)\r\n            } else {\r\n                this.param.active = this.pages[this.activeNum]\r\n                this.param.len = this.len\r\n\r\n                this.$http({\r\n                    url: this.url, \r\n                    method: \'POST\',\r\n                    data: this.param\r\n                })\r\n                .then(function (response) {\r\n                    this.pageTotal = response.data.page_num\r\n                    this.total = response.data.total\r\n\r\n                    if (this.pages.length !== this.pageLen || this.pageTotal < this.pageLen) {\r\n                        this.getPages()\r\n                    }\r\n\r\n                    if (!response.data.data.length) {\r\n                        this.activeNum = this.pageTotal - 1\r\n                    }\r\n\r\n                    this.$dispatch(\'data\', response.data)\r\n                })\r\n            }\r\n        },\r\n\r\n        // 刷新表格\r\n        refresh () {\r\n            this.getData()\r\n        },\r\n\r\n        // 重置并刷新表格\r\n        refresh2 () {\r\n            this.pages = [1]\r\n\r\n            this.activeNum === 0 ? this.getData() : this.activeNum = 0\r\n        }\r\n    },\r\n    ready () {\r\n        if (!this.async) {\r\n            this.getPages()\r\n        } \r\n\r\n        this.getData()\r\n    },\r\n    watch: {\r\n\r\n        // 监听显示数量\r\n        \'len\' (newVal, oldVal) {\r\n            if (!this.async) {\r\n                this.getPages()\r\n\r\n                if (this.activeNum + 1 > this.pages.length) {\r\n                    this.activeNum = this.pages.length - 1\r\n                }\r\n\r\n                this.getData()\r\n            } else {\r\n                this.refresh2()\r\n            }\r\n        },\r\n\r\n        // 监测当前页变化\r\n        \'activeNum\' (newVal, oldVal) {\r\n            this.getData()\r\n        }\r\n    },\r\n    events: {\r\n        \'refresh::page\' () {\r\n            this.refresh()\r\n        },\r\n        \'refresh2::page\' () {\r\n            this.refresh2()\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.boot-select {\r\n    float: right;\r\n    width: 80px;\r\n}\r\n\r\n.boot-nav {\r\n    float: right;\r\n}\r\n\r\n.boot-page {\r\n    display: inline-block;\r\n    margin: 2px 10px 0 20px;\r\n    vertical-align: middle;\r\n}\r\n\r\n.page-total {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n</style>'],
sourceRoot:"webpack://"}])},function(e,t,n){var s=n(73);"string"==typeof s&&(s=[[e.id,s,""]]);n(5)(s,{});s.locals&&(e.exports=s.locals)},function(e,t){e.exports='<nav class=boot-nav _v-e02c81fc=""> <ul class="pagination boot-page" _v-e02c81fc=""> <li _v-e02c81fc=""> <a href=javascript:void(0) aria-label=Previous @click=onFirstClick() _v-e02c81fc=""> <span aria-hidden=true _v-e02c81fc="">«</span> </a> </li> <li _v-e02c81fc=""> <a href=javascript:void(0) aria-label=Next @click=onPrevClick() _v-e02c81fc=""> <span aria-hidden=true _v-e02c81fc="">‹</span> </a> </li> <li v-for="page in pages" :class="activeNum === $index ? \'active\' : \'\'" _v-e02c81fc=""> <a href=javascript:void(0) v-text=page @click=onPageClick($index) _v-e02c81fc=""></a> </li> <li _v-e02c81fc=""> <a href=javascript:void(0) aria-label=Next @click=onNextClick() _v-e02c81fc=""> <span aria-hidden=true _v-e02c81fc="">›</span> </a> </li> <li _v-e02c81fc=""> <a href=javascript:void(0) aria-label=Next @click=onLastClick() _v-e02c81fc=""> <span aria-hidden=true _v-e02c81fc="">»</span> </a> </li> </ul> <div class=page-total _v-e02c81fc=""> 共 <span v-text=pageTotal _v-e02c81fc=""></span> 页 / (共<span v-text=total _v-e02c81fc=""></span>条) </div> </nav> <select class="form-control boot-select" v-model=len _v-e02c81fc=""> <option v-for="arr in lens" :value=arr v-text=arr :selected="$index === 0 ? true : false" _v-e02c81fc=""></option> </select>'},,,function(e,t,n){n(80),e.exports=n(7).Object.assign},function(e,t,n){"use strict";var s=n(23),r=n(72),a=n(61),l=n(31),i=n(30),o=Object.assign;e.exports=!o||n(14)(function(){var e={},t={},n=Symbol(),s="abcdefghijklmnopqrst";return e[n]=7,s.split("").forEach(function(e){t[e]=e}),7!=o({},e)[n]||Object.keys(o({},t)).join("")!=s})?function(e,t){for(var n=l(e),o=arguments.length,c=1,d=r.f,p=a.f;o>c;)for(var v,u=i(arguments[c++]),h=d?s(u).concat(d(u)):s(u),f=h.length,m=0;f>m;)p.call(u,v=h[m++])&&(n[v]=u[v]);return n}:o},function(e,t,n){var s=n(18);s(s.S+s.F,"Object",{assign:n(79)})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var s,r;n(140),s=n(130),r=n(145),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default),r&&(("function"==typeof e.exports?e.exports.options:e.exports).template=r)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var e=JSON.parse(n.responseText);t&&t(e)}},n.open("GET",e),n.setRequestHeader("Accept","application/json"),n.send()}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"!=typeof e?e:"true"===e||"false"!==e&&("null"!==e&&("undefined"!==e&&e))}},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(128),a=s(r),l=n(129),i=s(l),o={created:function(){this.items=this.primitiveData},partials:{default:'<span v-html="item | highlight query"></span>'},props:{query:{type:String,default:""},data:{type:Array},limit:{type:Number,default:1e3},async:{type:String},template:{type:String},templateName:{type:String,default:"default"},key:{type:String,default:null},matchCase:{type:Boolean,coerce:i.default,default:!1},matchStart:{type:Boolean,coerce:i.default,default:!1},onHit:{type:Function,default:function(e){this.reset(),this.query=e}},placeholder:{type:String}},data:function(){return{showDropdown:!1,noResults:!0,current:0,items:[]}},computed:{primitiveData:function(){var e=this;if(this.data)return this.data.filter(function(t){t=e.matchCase?t:t.toLowerCase();var n=e.matchCase?e.query:e.query.toLowerCase();return e.matchStart?0===t.indexOf(n):t.indexOf(n)!==-1}).slice(0,this.limit)}},ready:function(){this.templateName&&"default"!==this.templateName&&Vue.partial(this.templateName,this.template)},methods:{update:function(){var e=this;return this.query?(this.data&&(this.items=this.primitiveData,this.showDropdown=!!this.items.length),void(this.async&&(0,a.default)(this.async+this.query,function(t){e.items=(e.key?t[e.key]:t).slice(0,e.limit),e.showDropdown=!!e.items.length}))):(this.reset(),!1)},reset:function(){this.items=[],this.query="",this.loading=!1,this.showDropdown=!1},setActive:function(e){this.current=e},isActive:function(e){return this.current===e},hit:function(e){e.preventDefault(),this.onHit(this.items[this.current],this)},up:function(){this.current>0&&this.current--},down:function(){this.current<this.items.length-1&&this.current++}},filters:{highlight:function(e,t){return e.replace(new RegExp("("+t+")","gi"),"<strong>$1</strong>")}}};t.default=o},,,,,function(e,t,n){t=e.exports=n(4)(),t.push([e.id,".dropdown-menu[_v-05f81eb6]{max-height:300px;overflow:auto}.dropdown-menu>li>a[_v-05f81eb6]{cursor:pointer}","",{version:3,sources:["/./src/components/global/Typeahead.vue.style"],names:[],mappings:"AAgKA,4BACA,iBAAA,AACA,aAAA,CACA,AAEA,iCACA,cAAA,CACA",file:"Typeahead.vue",sourcesContent:['<template>\n<div style="position: relative"\n  v-bind:class="{\'open\':showDropdown}"\n  >\n  <input type="text" class="form-control"\n    :placeholder="placeholder"\n    autocomplete="off"\n    v-model="query"\n    @input="update"\n    @keydown.up="up"\n    @keydown.down="down"\n    @keydown.enter= "hit"\n    @keydown.esc="reset"\n    @blur="showDropdown = false"\n  />\n  <ul class="dropdown-menu" v-el:dropdown>\n    <li v-for="item in items" v-bind:class="{\'active\': isActive($index)}">\n      <a @mousedown.prevent="hit" @mousemove="setActive($index)">\n        <partial :name="templateName"></partial>\n      </a>\n    </li>\n  </ul>\n</div>\n\n</template>\n\n<script>\nimport callAjax from \'./utils/callAjax.js\'\nimport coerceBoolean from \'./utils/coerceBoolean.js\'\n\nconst typeahead = {\n    created() {\n      this.items = this.primitiveData\n    },\n    partials: {\n      \'default\': \'<span v-html="item | highlight query"></span>\',\n    },\n    props: {\n      query: {\n        type: String,\n        default: \'\'\n      },\n      data: {\n        type: Array\n      },\n      limit: {\n        type: Number,\n        default: 1000\n      },\n      async: {\n        type: String\n      },\n      template: {\n        type:String\n      },\n      templateName: {\n        type:String,\n        default: \'default\'\n      },\n      key: {\n        type: String,\n        default: null\n      },\n      matchCase: {\n        type: Boolean,\n        coerce: coerceBoolean,\n        default: false\n      },\n      matchStart: {\n        type: Boolean,\n        coerce: coerceBoolean,\n        default: false\n      },\n      onHit: {\n        type: Function,\n        default(items) {\n          this.reset()\n          this.query = items\n        }\n      },\n      placeholder: {\n        type: String\n      }\n    },\n    data() {\n      return {\n        showDropdown: false,\n        noResults: true,\n        current: 0,\n        items: [],\n      }\n    },\n    computed: {\n      primitiveData() {\n        if (this.data) {\n          return this.data.filter(value=> {\n            value = this.matchCase ? value : value.toLowerCase();\n            var query = this.matchCase ? this.query : this.query.toLowerCase();\n            return this.matchStart ? value.indexOf(query) === 0 : value.indexOf(query) !== -1;\n          }).slice(0, this.limit)\n        }\n      }\n    },\n    ready() {\n      // register a partial:\n      if (this.templateName && this.templateName!==\'default\')\n      {\n        Vue.partial(this.templateName, this.template)\n      }\n    },\n    methods: {\n      update() {\n        if (!this.query) {\n          this.reset()\n          return false\n        }\n        if (this.data) {\n          this.items = this.primitiveData\n          this.showDropdown = this.items.length ? true : false\n        }\n        if (this.async) {\n          callAjax(this.async + this.query, (data)=> {\n            this.items = (this.key ? data[this.key] : data).slice(0, this.limit)\n            this.showDropdown = this.items.length ? true : false\n          })\n        }\n      },\n      reset() {\n        this.items = []\n        this.query = \'\'\n        this.loading = false\n        this.showDropdown = false\n      },\n      setActive(index) {\n        this.current = index\n      },\n      isActive(index) {\n        return this.current === index\n      },\n      hit(e) {\n        e.preventDefault()\n        this.onHit(this.items[this.current], this);\n      },\n      up() {\n        if (this.current > 0) this.current--\n      },\n      down() {\n        if (this.current < this.items.length - 1) this.current++\n      }\n    },\n    filters: {\n      highlight(value, phrase) {\n        return value.replace(new RegExp(\'(\'+phrase+\')\', \'gi\'), \'<strong>$1</strong>\')\n      }\n    }\n  }\nexport default typeahead\n</script>\n\n<style scoped>\n.dropdown-menu {\n    max-height: 300px;\n    overflow: auto;\n}\n\n.dropdown-menu > li > a {\n    cursor: pointer;\n}\n</style>\n'],sourceRoot:"webpack://"}])},,,,,function(e,t,n){var s=n(135);"string"==typeof s&&(s=[[e.id,s,""]]);n(5)(s,{});s.locals&&(e.exports=s.locals)},,,,,function(e,t){e.exports='<div style="position: relative" v-bind:class="{\'open\':showDropdown}" _v-05f81eb6=""> <input type=text class=form-control :placeholder=placeholder autocomplete=off v-model=query @input=update @keydown.up=up @keydown.down=down @keydown.enter=hit @keydown.esc=reset @blur="showDropdown = false" _v-05f81eb6=""> <ul class=dropdown-menu v-el:dropdown="" _v-05f81eb6=""> <li v-for="item in items" v-bind:class="{\'active\': isActive($index)}" _v-05f81eb6=""> <a @mousedown.prevent=hit @mousemove=setActive($index) _v-05f81eb6=""> <partial :name=templateName _v-05f81eb6=""></partial> </a> </li> </ul> </div>'},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),a=n(70),l=s(a),i=n(341),o=s(i),c=n(342),d=s(c),p=n(21),v=s(p),u=n(47),h=n(33);t.default={data:function(){return{checkedAll:!1,checkedIds:[],titles:["产品名称","业务类别","产品级别","平台类型","游戏类型","研发模式","所属部门","运营阶段","项目负责人","运营负责人","运维负责人","市场负责人","工作室","发行部","子公司"],tableList:[],lenArr:[10,50,100],pageLen:5,url:"/product/query/",param:{productName:"",department1:"",department2:"",businessType:"",gameType:"",platformType:"",developModel:"",phase:"",productLevel:"",maintainManager:"",operationalManager:"",projectManager:"",marketManager:""},departments2:[]}},methods:{refresh:function(){this.$refs.spinner.show(),this.checkedIds=[],this.$refs.page.refresh()},deleteFn:function(){var e=this;this.checkedIds.length?this.$http({url:"/product/remove/",method:"POST",data:{checkedIds:this.checkedIds}}).then(function(t){200===t.data.code?(e.checkedIds=[],e.refresh(),e.getBusinessSearch(),e.$dispatch("show-success","删除成功")):e.$dispatch("show-error",t.data.msg)}):this.$dispatch("show-notify","请选择删除项"),this.$els.confirm.classList.toggle("open")},cancelFn:function(){this.$els.confirm.classList.toggle("open")}},components:{bootPage:l.default,createProductModal:o.default,editProductModal:d.default,vSelect:v.default,dropdown:r.dropdown,spinner:r.spinner},vuex:{actions:{getBusinessSearch:u.getBusinessSearch},getters:{perm:h.perm,departments1:h.departments1,businessTypes:h.productTypes,phases:h.phases,gameTypes:h.gameTypes,platformTypes:h.platformTypes,developModels:h.developModels,productLevels:h.productLevels}},ready:function(){this.getBusinessSearch(),this.$refs.spinner.show()},watch:{checkedAll:function(e){var t=this;e?this.checkedIds.length!==this.tableList.length&&!function(){var e=t;e.checkedIds=[],e.tableList.forEach(function(t){e.checkedIds.push(t.id)})}():this.checkedIds.length===this.tableList.length&&(this.checkedIds=[])},checkedIds:function(e){e.length===this.tableList.length&&0!==this.tableList.length?this.checkedAll=!0:this.checkedAll=!1},"param.department1":function(e){var t=this;this.param.department2="",this.$http({url:"/product/getDepartment/?id="+e,method:"GET"}).then(function(e){t.departments2=e.data.departments2})}},events:{data:function(e){this.tableList=e.data,this.checkedIds=[],this.$refs.spinner.hide()},refresh:function(){this.refresh()}}}},function(e,t,n){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(37),a=s(r),l=n(22),i=n(127),o=s(i),c=n(21),d=s(c),p=n(47),v=n(33),u={creatProductModal:!1,businessType:"1",gameList:"",area:"2",childType:"",department1:"",department2:"",productName:"",productLevel:"",gameType:"",platformType:"",developModel:"",phase:"",company:"",studio:"",release:"",projectManagers:[],maintainManagers:[],operationalManagers:[],marketManagers:[],departments2:[]},h=(0,a.default)({},u);t.default={data:function(){return u},methods:{addProjectManager:function(t,n){e.inArray(t,this.projectManagers)===-1&&t&&this.projectManagers.push(t),n.reset()},addOperationalManager:function(t,n){e.inArray(t,this.operationalManagers)===-1&&t&&this.operationalManagers.push(t),n.reset()},addMaintainManager:function(t,n){e.inArray(t,this.maintainManagers)===-1&&t&&this.maintainManagers.push(t),n.reset()},addMarketManager:function(t,n){e.inArray(t,this.marketManagers)===-1&&t&&this.marketManagers.push(t),n.reset()},deleteUser:function(e,t){this[t].splice(e,1)},saveFn:function(){"1"===this.businessType?this.gameList&&this.department1&&this.productLevel&&this.gameType&&this.platformType&&this.developModel&&this.phase&&this.maintainManagers.length&&this.company&&this.studio&&this.release&&this.area?this.saveVaild():this.$dispatch("show-notify","存在未填写的必填项，请检查"):"1"!==this.businessType&&this.businessType?this.department1&&this.productLevel&&this.maintainManagers.length&&this.company&&this.productName?this.saveVaild():this.$dispatch("show-notify","存在未填写的必填项，请检查"):this.$dispatch("show-notify","请选择业务类型")},saveVaild:function(){var e=this;this.$http({url:"/product/operate/",method:"POST",data:this.$data}).then(function(t){200===t.data.code?(e.creatProductModal=!1,e.$data=(0,a.default)({},h),e.getBusinessSearch(),e.$dispatch("refresh"),e.$dispatch("show-success")):e.$dispatch("show-error",t.data.msg)})}},components:{modal:l.modal,vSelect:d.default,typeahead:o.default},vuex:{actions:{getBusinessSearch:p.getBusinessSearch},getters:{businessTypes:v.productTypes,phases:v.phases,gameTypes:v.gameTypes,platformTypes:v.platformTypes,developModels:v.developModels,gameLists:v.gameLists,productLevels:v.productLevels,studios:v.studios,releases:v.releases,companys:v.companys,departments1:v.departments1,areas:v.areas}},watch:{businessType:function(e){"1"===e?this.productName="":"1"!==e&&e&&(this.gameList="",this.costCenter="",this.childType="",this.gameType="",this.platformType="",this.developModel="",this.phase="",this.studio="",this.release="",this.company=this.company||"1")},department1:function(e){var t=this;this.department2="",this.$http({url:"/product/getDepartment/?id="+e,method:"GET"}).then(function(e){t.departments2=e.data.departments2})}},events:{showCreateProduct:function(){this.creatProductModal=!0}}}}).call(t,n(76))},function(e,t,n){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(37),a=s(r),l=n(22),i=n(127),o=s(i),c=n(21),d=s(c),p=n(47),v=n(33),u={editProductModal:!1,id:null,save:0,businessType:"",gameList:"",area:"",childType:"",department1:"",department2:"",productName:"",productLevel:"",gameType:"",platformType:"",developModel:"",phase:"",company:"",studio:"",release:"",projectManagers:[],maintainManagers:[],operationalManagers:[],marketManagers:[],departments2:[]},h=(0,a.default)({},u);t.default={data:function(){return u},methods:{addProjectManager:function(t,n){e.inArray(t,this.projectManagers)===-1&&t&&this.projectManagers.push(t),n.reset()},addOperationalManager:function(t,n){e.inArray(t,this.operationalManagers)===-1&&t&&this.operationalManagers.push(t),n.reset()},addMaintainManager:function(t,n){e.inArray(t,this.maintainManagers)===-1&&t&&this.maintainManagers.push(t),n.reset()},addMarketManager:function(t,n){e.inArray(t,this.marketManagers)===-1&&t&&this.marketManagers.push(t),n.reset()},deleteUser:function(e,t){this[t].splice(e,1)},saveFn:function(){"1"===this.businessType?this.gameList&&this.department1&&this.productLevel&&this.gameType&&this.platformType&&this.developModel&&this.phase&&this.maintainManagers.length&&this.company&&this.studio&&this.release&&this.area?this.saveVaild():this.$dispatch("show-notify","存在未填写的必填项，请检查"):"1"!==this.businessType&&this.businessType?this.department1&&this.productLevel&&this.maintainManagers.length&&this.company&&this.productName?this.saveVaild():this.$dispatch("show-notify","存在未填写的必填项，请检查"):this.$dispatch("show-notify","请选择业务类型")},saveVaild:function(){var e=this;this.$http({url:"/product/operate/",method:"POST",data:this.$data}).then(function(t){200===t.data.code?(e.creatProductModal=!1,e.$data=(0,a.default)({},h),e.getBusinessSearch(),e.$dispatch("refresh"),e.$dispatch("show-success")):e.$dispatch("show-error",t.data.msg)})}},components:{modal:l.modal,vSelect:d.default,typeahead:o.default},vuex:{actions:{getBusinessSearch:p.getBusinessSearch},getters:{perm:v.perm,businessTypes:v.productTypes,phases:v.phases,gameTypes:v.gameTypes,platformTypes:v.platformTypes,developModels:v.developModels,gameLists:v.gameLists,productLevels:v.productLevels,studios:v.studios,releases:v.releases,companys:v.companys,departments1:v.departments1,areas:v.areas}},watch:{businessType:function(e){"1"===e?this.productName="":"1"!==e&&e&&(this.gameList="",this.costCenter="",this.childType="",this.gameType="",this.platformType="",this.developModel="",this.phase="",this.studio="",this.release="",this.company=this.company||"1")},department1:function(e,t){var n=this;e?(t?this.department2="":"",this.$http({url:"/product/getDepartment/?id="+e,method:"GET"}).then(function(e){n.departments2=e.data.departments2})):(this.department2="",this.departments2=[])},editProductModal:function(e){e||(this.department1="")}},events:{showEditProduct:function(e){var t=this;this.$http({url:"/product/queryById/?id="+e,method:"GET"}).then(function(n){200===n.data.code?(t.$data=(0,a.default)({},u,n.data),t.id=e,t.editProductModal=!0):t.$dispatch("show-error")})}}}}).call(t,n(76))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){t=e.exports=n(4)(),t.push([e.id,".pd20[_v-539e553e]{padding:20px}","",{version:3,sources:["/./src/components/business/business_search/BusinessSearch.vue.style"],names:[],mappings:"AAyUA,mBACA,YAAA,CACA",file:"BusinessSearch.vue",sourcesContent:['<!-- 业务查询 -->\r\n<template>\r\n    <div>\r\n        <form class="form-horizontal clearfix form-search">\r\n            <div class="col-sm-3">\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-4">产品名称：</label>\r\n                    <div class="col-sm-8">\r\n                        <input type="text" class="form-control" v-model="param.productName">\r\n                    </div>\r\n                </div>\r\n                <div class="form-group input-box">\r\n                    <label class="control-label col-sm-4">游戏类型：</label>\r\n                    <div class="col-sm-8">\r\n                        <v-select :value.sync="param.gameType" :options="gameTypes" placeholder="请选择">\r\n                        </v-select>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-4">项目负责人：</label>\r\n                    <div class="col-sm-8">\r\n                        <input type="text" class="form-control" v-model="param.projectManager">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-3">\r\n                <div class="form-group input-box">\r\n                    <label class="control-label col-sm-4">部门：</label>\r\n                    <div class="col-sm-4 input-box pr0">\r\n                        <v-select :value.sync="param.department1" :options="departments1" placeholder="请选择">\r\n                        </v-select>\r\n                    </div>\r\n                    <div class="col-sm-4 input-box pl0">\r\n                        <v-select :value.sync="param.department2" :options="departments2" placeholder="请选择">\r\n                        </v-select>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group input-box">\r\n                    <label class="control-label col-sm-4">平台类型：</label>\r\n                    <div class="col-sm-8">\r\n                        <v-select :value.sync="param.platformType" :options="platformTypes" placeholder="请选择">\r\n                        </v-select>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-4">运营负责人：</label>\r\n                    <div class="col-sm-8">\r\n                        <input type="text" class="form-control" v-model="param.operationalManager">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-3">\r\n                <div class="form-group input-box">\r\n                    <label class="control-label col-sm-4">业务类型：</label>\r\n                    <div class="col-sm-8">\r\n                        <v-select :value.sync="param.businessType" :options="businessTypes" placeholder="请选择">\r\n                        </v-select>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group input-box">\r\n                    <label class="control-label col-sm-4">研发模式：</label>\r\n                    <div class="col-sm-8">\r\n                        <v-select :value.sync="param.developModel" :options="developModels" placeholder="请选择">\r\n                        </v-select>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-4">运维负责人：</label>\r\n                    <div class="col-sm-8">\r\n                        <input type="text" class="form-control" v-model="param.maintainManager">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-3">\r\n                <div class="form-group input-box">\r\n                    <label class="control-label col-sm-4">运营阶段：</label>\r\n                    <div class="col-sm-8">\r\n                        <v-select :value.sync="param.phase" :options="phases" placeholder="请选择">\r\n                        </v-select>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group input-box">\r\n                    <label class="control-label col-sm-4">产品级别：</label>\r\n                    <div class="col-sm-8">\r\n                        <v-select :value.sync="productLevel" :options="productLevels" placeholder="请选择">\r\n                        </v-select>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-4">市场负责人：</label>\r\n                    <div class="col-sm-8">\r\n                        <input type="text" class="form-control" v-model="param.marketManager">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n        <div class="text-center btn-operate">\r\n            <button type="button" class="btn btn-default" @click="refresh">\r\n                查询\r\n            </button>\r\n            <button v-if="perm.新增产品 || perm.all" type="button" class="btn btn-default" @click="$broadcast(\'showCreateProduct\')">\r\n                新增产品\r\n            </button>\r\n            <dropdown v-el:confirm v-if="perm.删除产品 || perm.all">\r\n                <button type="button" class="btn btn-default" data-toggle="dropdown">\r\n                    批量删除\r\n                    <span class="caret"></span>\r\n                </button>\r\n                <div slot="dropdown-menu" class="dropdown-menu pd20">\r\n                    <button type="button" class="btn btn-danger btn-block" @click="deleteFn">确定</button>\r\n                    <button type="button" class="btn btn-default btn-block" @click="cancelFn">取消</button>\r\n                </div>\r\n            </dropdown>\r\n        </div>\r\n        <div class="text-center table-title">\r\n            查询结果\r\n        </div>\r\n        <div class="table-box">\r\n            <table class="table table-hover table-bordered">\r\n                <thead>\r\n                    <tr>\r\n                        <th width="3%"><input type="checkbox" v-model="checkedAll"></th>\r\n                        <th v-for="title in titles" v-text="title"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for="list in tableList" v-if="tableList.length !== 0" v-show="tableList.length !== 0">\r\n                        <td><input type="checkbox" :id="list.id" :value="list.id" v-model="checkedIds"></td>\r\n                        <td :title="list.productName">\r\n                            <a class="pointer" v-text="list.productName" @click="$broadcast(\'showEditProduct\', list.id)">\r\n                        </td>\r\n                        <td :title="list.businessType" v-text="list.businessType"></td>\r\n                        <td :title="list.productLevel" v-text="list.productLevel"></td>\r\n                        <td :title="list.platformType" v-text="list.platformType"></td>\r\n                        <td :title="list.gameType" v-text="list.gameType"></td>\r\n                        <td :title="list.developModel" v-text="list.developModel"></td>\r\n                        <td :title="list.department" v-text="list.department"></td>\r\n                        <td :title="list.phase" v-text="list.phase"></td>\r\n                        <td :title="list.projectManager" v-text="list.projectManager"></td>\r\n                        <td :title="list.operationalManager" v-text="list.operationalManager"></td>\r\n                        <td :title="list.maintainManager" v-text="list.maintainManager"></td>\r\n                        <td :title="list.marketManager" v-text="list.marketManager"></td>\r\n                        <td :title="list.studio" v-text="list.studio"></td>\r\n                        <td :title="list.release" v-text="list.release"></td>\r\n                        <td :title="list.company" v-text="list.company"></td>\r\n                    </tr>\r\n                    <tr class="text-center" v-show="tableList.length === 0">\r\n                        <td :colspan="titles.length + 1">暂无数据</td>\r\n                    </tr>\r\n                </tbody>\r\n                <tfoot> \r\n                    <tr>\r\n                        <td :colspan="titles.length + 1">\r\n                            <boot-page v-ref:page :async="true" :lens="lenArr" :page-len="pageLen" :url="url" :param="param"></boot-page>\r\n                        </td>\r\n                    </tr>\r\n                </tfoot>\r\n            </table>\r\n            <spinner id="spinner-box" :size="md" :fixed="false" \r\n                 text="数据加载中，请稍后..." v-ref:spinner>\r\n            </spinner>\r\n        </div>\r\n\r\n        <create-product-modal></create-product-modal>\r\n        <edit-product-modal></edit-product-modal>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { dropdown, spinner } from \'vue-strap\'\r\nimport bootPage from \'../../global/BootPage.vue\'\r\nimport createProductModal from \'./CreateProduct.vue\'\r\nimport editProductModal from \'./EditProduct.vue\'\r\nimport vSelect from \'../../global/Select.vue\'\r\nimport { getBusinessSearch } from \'../../../vuex/action.js\'\r\nimport { departments1, productTypes, phases, gameTypes, platformTypes, developModels, productLevels, perm } from \'../../../vuex/getters.js\'\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            checkedAll: false,\r\n            checkedIds: [],\r\n            titles: [\'产品名称\', \'业务类别\', \'产品级别\', \'平台类型\', \'游戏类型\', \'研发模式\', \'所属部门\', \'运营阶段\', \'项目负责人\', \'运营负责人\', \'运维负责人\', \'市场负责人\', \'工作室\', \'发行部\', \'子公司\'],\r\n            tableList: [],\r\n            lenArr: [10, 50, 100],\r\n            pageLen: 5,\r\n            url: \'/product/query/\',\r\n            param: {\r\n                productName: \'\',\r\n                department1: \'\',\r\n                department2: \'\',\r\n                businessType: \'\',\r\n                gameType: \'\',\r\n                platformType: \'\',\r\n                developModel: \'\',\r\n                phase: \'\',\r\n                productLevel: \'\',\r\n                maintainManager: \'\',\r\n                operationalManager: \'\',\r\n                projectManager: \'\',\r\n                marketManager: \'\'\r\n            },\r\n            departments2: []\r\n        }\r\n    },\r\n    methods: {\r\n\r\n        // 刷新数据\r\n        refresh () {\r\n            this.$refs.spinner.show()\r\n            this.checkedIds = []\r\n            this.$refs.page.refresh()\r\n        },\r\n\r\n        // 批量删除\r\n        deleteFn () {\r\n            if (this.checkedIds.length) {\r\n                this.$http({\r\n                    url: \'/product/remove/\',\r\n                    method: \'POST\',\r\n                    data: {\r\n                        checkedIds: this.checkedIds\r\n                    }\r\n                })\r\n                .then((response) => {\r\n                    if (response.data.code === 200) {\r\n                        this.checkedIds = []\r\n                        this.refresh()\r\n                        this.getBusinessSearch()\r\n\r\n                        this.$dispatch(\'show-success\', \'删除成功\')\r\n                    } else {\r\n                        this.$dispatch(\'show-error\', response.data.msg)\r\n                    }\r\n                })\r\n            } else {\r\n                this.$dispatch(\'show-notify\', \'请选择删除项\')\r\n            }\r\n\r\n            this.$els.confirm.classList.toggle(\'open\')\r\n        },\r\n\r\n        // 取消删除\r\n        cancelFn () {\r\n\r\n            this.$els.confirm.classList.toggle(\'open\')\r\n        }\r\n    },\r\n    components: {\r\n        bootPage,\r\n        createProductModal,\r\n        editProductModal,\r\n        vSelect,\r\n        dropdown,\r\n        spinner\r\n    },\r\n    vuex: {\r\n        actions: {\r\n            getBusinessSearch\r\n        },\r\n        getters: {\r\n            perm,\r\n            departments1,\r\n            businessTypes: productTypes,\r\n            phases,\r\n            gameTypes,\r\n            platformTypes,\r\n            developModels,\r\n            productLevels\r\n        }\r\n    },\r\n    ready () {\r\n        this.getBusinessSearch()\r\n        this.$refs.spinner.show()\r\n    },\r\n    watch: {\r\n        \'checkedAll\' (newVal) {\r\n            if (newVal) {\r\n                if (this.checkedIds.length !== this.tableList.length) {\r\n                    let _this = this\r\n\r\n                    _this.checkedIds = []\r\n                    _this.tableList.forEach(function(e) {\r\n                        _this.checkedIds.push(e.id)\r\n                    })\r\n                }\r\n            } else {\r\n                if (this.checkedIds.length === this.tableList.length) {\r\n                    this.checkedIds = []\r\n                }\r\n            }\r\n        },\r\n        \'checkedIds\' (newVal) {\r\n            if (newVal.length === this.tableList.length && this.tableList.length !== 0) {\r\n                this.checkedAll = true\r\n            } else {\r\n                this.checkedAll = false\r\n            }\r\n        },\r\n        \'param.department1\' (newVal) {\r\n            this.param.department2 = \'\'\r\n\r\n            this.$http({\r\n                url: \'/product/getDepartment/?id=\' + newVal,\r\n                method: \'GET\'\r\n            })\r\n            .then(response => {\r\n                this.departments2 = response.data.departments2\r\n            })\r\n        }\r\n    },\r\n    events: {\r\n\r\n        // 获取表格数据\r\n        \'data\' (param) {\r\n            this.tableList = param.data\r\n            this.checkedIds = []\r\n            this.$refs.spinner.hide()\r\n        },\r\n\r\n        // 刷新表格\r\n        \'refresh\' () {\r\n            this.refresh()\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.pd20 {\r\n    padding: 20px;\r\n}\r\n</style>\r\n'],
sourceRoot:"webpack://"}])},,,,,,function(e,t,n){t=e.exports=n(4)(),t.push([e.id,".selected-tag[_v-68d32c08]{border:1px solid #ccc;border-radius:4px;height:26px;margin:4px 1px 0 3px;padding:0 .25em;float:left;line-height:1.7em;color:#147688;background-color:#d7f3f9;border-color:#91ddec;white-space:nowrap}.selected-tag .close[_v-68d32c08]{float:none;margin-right:0;font-size:20px;-webkit-appearance:none;padding:0;cursor:pointer;background:0 0;border:0;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;filter:alpha(opacity=20);opacity:.2}.selected-tag .close[_v-68d32c08]:hover{color:#000;filter:alpha(opacity=50);opacity:.5}","",{version:3,sources:["/./src/components/business/business_search/EditProduct.vue.style"],names:[],mappings:"AA8dA,2BACA,sBAAA,AACA,kBAAA,AACA,YAAA,AACA,qBAAA,AACA,gBAAA,AACA,WAAA,AACA,kBAAA,AACA,cAAA,AACA,yBAAA,AACA,qBAAA,AACA,kBAAA,CACA,AAEA,kCACA,WAAA,AACA,eAAA,AACA,eAAA,AACA,wBAAA,AACA,UAAA,AACA,eAAA,AACA,eAAA,AACA,SAAA,AACA,gBAAA,AACA,cAAA,AACA,WAAA,AACA,yBAAA,AACA,yBAAA,AACA,UAAA,CACA,AAEA,wCACA,WAAA,AACA,yBAAA,AACA,UAAA,CACA",file:"EditProduct.vue",sourcesContent:['<!-- 修改产品 -->\r\n<template>\r\n    <modal :show.sync="editProductModal" effect="fade" width="850px">\r\n        <div slot="modal-header" class="modal-header">\r\n            <h4 class="modal-title">修改产品</h4>\r\n        </div>\r\n        <div slot="modal-body" class="modal-body mh500">\r\n            <form class="form-horizontal clearfix">\r\n                <div class="col-sm-12">\r\n                    <div class="form-group input-box">\r\n                        <label class="control-label col-sm-2">业务类型：<span class="text-danger">*</span></label>\r\n                        <div class="col-sm-9">\r\n                            <v-select :value.sync="businessType" :options="businessTypes" placeholder="请选择" :disabled="true">\r\n                            </v-select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12" v-show="businessType !== \'1\'">\r\n                    <div class="form-group">\r\n                        <label class="control-label col-sm-2">产品名称：<span class="text-danger">*</span></label>\r\n                        <div class="col-sm-9">\r\n                            <input type="text" class="form-control" v-model="productName" :disabled="true">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">部门：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-8" style="width: 262px; padding-right: 0">\r\n                                <v-select :value.sync="department1" :options="departments1" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <div class="col-sm-10">\r\n                                <v-select :value.sync="department2" :options="departments2" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>  \r\n                <div class="col-sm-12" v-show="businessType === \'1\'">\r\n                    <div class="col-sm-6" >\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">游戏列表：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-6">\r\n                                <v-select :value.sync="gameList" :options="gameLists" placeholder="请选择" :disabled="true">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">区域名称：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-3 pr0">\r\n                                <v-select :value.sync="area" :options="areas" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                            <div class="col-sm-3 pl0">\r\n                                <input type="text" class="form-control" v-model="childType" placeholder="选填">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12" v-show="businessType === \'1\'">\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">游戏类型：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-6">\r\n                                <v-select :value.sync="gameType" :options="gameTypes" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">平台类型：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-6">\r\n                                <v-select :value.sync="platformType" :options="platformTypes" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12" v-show="businessType === \'1\'">\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">研发模式：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-6">\r\n                                <v-select :value.sync="developModel" :options="developModels" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">运营阶段：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-6">\r\n                                <v-select :value.sync="phase" :options="phases" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">产品级别：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-6">\r\n                                <v-select :value.sync="productLevel" :options="productLevels" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">子公司：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-6">\r\n                                <v-select :value.sync="company" :options="companys" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12" v-show="businessType === \'1\'">\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">工作室：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-6">\r\n                                <v-select :value.sync="studio" :options="studios" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">发行部：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-6">\r\n                                <v-select :value.sync="release" :options="releases" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="form-group input-box mb0">\r\n                        <label class="control-label col-sm-2">项目负责人：</label>\r\n                        <div class="col-sm-9">\r\n                            <typeahead\r\n                                :on-hit="addProjectManager"\r\n                                :async="\'/product/getUser/?name=\'"\r\n                                :key="\'name\'"\r\n                                placeholder="按回车键添加"\r\n                            >\r\n                            </typeahead>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="form-group mb20">\r\n                        <div class="col-sm-9 col-sm-offset-2">\r\n                            <span class="selected-tag" v-for="projectManager in projectManagers" track-by="$index">\r\n                                <span v-text="projectManager"></span>\r\n                                <button type="button" class="close" @click="deleteUser($index, \'projectManagers\')">\r\n                                    <span aria-hidden="true">×</span>\r\n                                </button>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="form-group input-box mb0">\r\n                        <label class="control-label col-sm-2">运营负责人：</label>\r\n                        <div class="col-sm-9">\r\n                            <typeahead\r\n                                :on-hit="addOperationalManager"\r\n                                :async="\'/product/getUser/?name=\'"\r\n                                :key="\'name\'"\r\n                                placeholder="按回车键添加"\r\n                            >\r\n                            </typeahead>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="form-group mb20">\r\n                        <div class="col-sm-9 col-sm-offset-2">\r\n                            <span class="selected-tag" v-for="operationalManager in operationalManagers" track-by="$index">\r\n                                <span v-text="operationalManager"></span>\r\n                                <button type="button" class="close" @click="deleteUser($index, \'operationalManagers\')">\r\n                                    <span aria-hidden="true">×</span>\r\n                                </button>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="form-group input-box mb0">\r\n                        <label class="control-label col-sm-2">运维负责人：<span class="text-danger">*</span></label>\r\n                        <div class="col-sm-9">\r\n                            <typeahead\r\n                                :on-hit="addMaintainManager"\r\n                                :async="\'/product/getUser/?name=\'"\r\n                                :key="\'name\'"\r\n                                placeholder="按回车键添加"\r\n                            >\r\n                            </typeahead>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="form-group mb20">\r\n                        <div class="col-sm-9 col-sm-offset-2">\r\n                            <span class="selected-tag" v-for="maintainManager in maintainManagers" track-by="$index">\r\n                                <span v-text="maintainManager"></span>\r\n                                <button type="button" class="close" @click="deleteUser($index, \'maintainManagers\')">\r\n                                    <span aria-hidden="true">×</span>\r\n                                </button>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="form-group input-box mb0">\r\n                        <label class="control-label col-sm-2">市场负责人：</label>\r\n                        <div class="col-sm-9">\r\n                            <typeahead\r\n                                :on-hit="addMarketManager"\r\n                                :async="\'/product/getUser/?name=\'"\r\n                                :key="\'name\'"\r\n                                placeholder="按回车键添加"\r\n                            >\r\n                            </typeahead>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="form-group mb20">\r\n                        <div class="col-sm-9 col-sm-offset-2">\r\n                            <span class="selected-tag" v-for="marketManager in marketManagers" track-by="$index">\r\n                                <span v-text="marketManager"></span>\r\n                                <button type="button" class="close" @click="deleteUser($index, \'marketManagers\')">\r\n                                    <span aria-hidden="true">×</span>\r\n                                </button>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <div slot="modal-footer" class="modal-footer">\r\n            <button v-if="perm.编辑产品 || perm.all" type="button" class="btn btn-default" @click="saveFn" :disabled="save === 0 ? true : false">保存</button>\r\n            <button type="button" class="btn btn-default" @click=\'editProductModal = false\'>取消</button>\r\n        </div>\r\n    </modal>\r\n</template>\r\n\r\n<script>\r\nimport { modal } from \'vue-strap\'\r\nimport typeahead from \'../../global/Typeahead.vue\'\r\nimport vSelect from \'../../global/Select.vue\'\r\nimport { getBusinessSearch } from \'../../../vuex/action.js\'\r\nimport { productTypes, phases, gameTypes, platformTypes, developModels, gameLists, productLevels, perm, studios, releases, companys, departments1, areas } from \'../../../vuex/getters.js\'\r\n\r\nlet origin = {\r\n        editProductModal: false,\r\n        id: null,\r\n        save: 0,\r\n        businessType: \'\',\r\n        gameList: \'\',\r\n        area: \'\',\r\n        childType: \'\',\r\n        department1: \'\',\r\n        department2: \'\',\r\n        productName: \'\',\r\n        productLevel: \'\',\r\n        gameType: \'\',\r\n        platformType: \'\',\r\n        developModel: \'\',\r\n        phase: \'\',\r\n        company: \'\',\r\n        studio: \'\',\r\n        release: \'\',\r\n        projectManagers: [],\r\n        maintainManagers: [],\r\n        operationalManagers: [],\r\n        marketManagers: [],\r\n        departments2: []\r\n    },\r\n    init = Object.assign({}, origin);\r\n\r\nexport default {\r\n    data () {\r\n        return origin\r\n    },\r\n    methods: {\r\n\r\n        // 模糊搜索项目负责人\r\n        addProjectManager (items, targetVM) {\r\n            if ($.inArray(items, this.projectManagers) === -1 && items) {\r\n                this.projectManagers.push(items) \r\n            }\r\n            \r\n            targetVM.reset()\r\n        },\r\n\r\n        // 模糊搜索运营负责人\r\n        addOperationalManager (items, targetVM) {\r\n            if ($.inArray(items, this.operationalManagers) === -1 && items) {\r\n                this.operationalManagers.push(items) \r\n            }\r\n            \r\n            targetVM.reset()\r\n        },\r\n\r\n        // 模糊搜索运维负责人\r\n        addMaintainManager (items, targetVM) {\r\n            if ($.inArray(items, this.maintainManagers) === -1 && items) {\r\n                this.maintainManagers.push(items) \r\n            }\r\n            \r\n            targetVM.reset()\r\n        },\r\n\r\n        // 模糊搜索市场负责人\r\n        addMarketManager (items, targetVM) {\r\n            if ($.inArray(items, this.marketManagers) === -1 && items) {\r\n                this.marketManagers.push(items) \r\n            }\r\n            \r\n            targetVM.reset()\r\n        },\r\n\r\n        // 删除负责人\r\n        deleteUser (index, name) {\r\n            this[name].splice(index, 1)\r\n        },\r\n\r\n        // 新增产品\r\n        saveFn () {\r\n            if (this.businessType === \'1\') {\r\n\r\n                if (this.gameList && this.department1 && this.productLevel && this.gameType && this.platformType\r\n                    && this.developModel && this.phase && this.maintainManagers.length && this.company\r\n                    && this.studio && this.release && this.area) {\r\n\r\n                    this.saveVaild()\r\n                    \r\n                } else {\r\n                    this.$dispatch(\'show-notify\', \'存在未填写的必填项，请检查\')\r\n                }\r\n\r\n            } else if (this.businessType !== \'1\' && this.businessType) {\r\n\r\n                if (this.department1 && this.productLevel && this.maintainManagers.length \r\n                    && this.company && this.productName) {\r\n\r\n                    this.saveVaild()\r\n                    \r\n                } else {\r\n                    this.$dispatch(\'show-notify\', \'存在未填写的必填项，请检查\')\r\n                }\r\n            } else {\r\n                this.$dispatch(\'show-notify\', \'请选择业务类型\')\r\n            }\r\n        },\r\n\r\n        // 执行保存\r\n        saveVaild () {\r\n            this.$http({\r\n                url: \'/product/operate/\',\r\n                method: \'POST\',\r\n                data: this.$data\r\n            })\r\n            .then(response => {\r\n                if (response.data.code === 200) {\r\n                    this.creatProductModal = false\r\n                    this.$data = Object.assign({}, init)\r\n                    this.getBusinessSearch()\r\n\r\n                    this.$dispatch(\'refresh\')\r\n                    this.$dispatch(\'show-success\')\r\n                } else {\r\n                    this.$dispatch(\'show-error\', response.data.msg)\r\n                }\r\n            })\r\n        }\r\n    },\r\n    components: {\r\n        modal,\r\n        vSelect,\r\n        typeahead\r\n    },\r\n    vuex: {\r\n        actions: {\r\n            getBusinessSearch\r\n        },\r\n        getters: {\r\n            perm,\r\n            businessTypes: productTypes,\r\n            phases,\r\n            gameTypes,\r\n            platformTypes,\r\n            developModels,\r\n            gameLists,\r\n            productLevels,\r\n            studios,\r\n            releases,\r\n            companys,\r\n            departments1,\r\n            areas\r\n        }\r\n    },\r\n    watch: {\r\n        \'businessType\' (newVal) {\r\n            if (newVal === \'1\') {\r\n                this.productName = \'\'\r\n            } else if (newVal !== \'1\' && newVal) {\r\n                this.gameList = \'\'\r\n                this.costCenter = \'\'\r\n                this.childType = \'\'\r\n                this.gameType = \'\'\r\n                this.platformType = \'\'\r\n                this.developModel = \'\'\r\n                this.phase = \'\'\r\n                this.studio = \'\'\r\n                this.release = \'\'\r\n                this.company = this.company || \'1\'\r\n            }\r\n        },\r\n        \'department1\' (newVal, oldVal) {\r\n            if (newVal) {\r\n\r\n                oldVal ? this.department2 = \'\' : \'\'\r\n                \r\n                this.$http({\r\n                    url: \'/product/getDepartment/?id=\' + newVal,\r\n                    method: \'GET\'\r\n                })\r\n                .then(response => {\r\n                    this.departments2 = response.data.departments2\r\n                })\r\n            } else {\r\n                this.department2 = \'\'\r\n                this.departments2 = []\r\n            }\r\n        },\r\n        \'editProductModal\' (newVal) {\r\n            if (!newVal) {\r\n                this.department1 = \'\'\r\n            }\r\n        }\r\n    },\r\n    events: {\r\n        \'showEditProduct\' (param) {\r\n            this.$http({\r\n                url: \'/product/queryById/?id=\' + param,\r\n                method: \'GET\'\r\n            })\r\n            .then(response => {\r\n                if (response.data.code === 200) {\r\n                    this.$data = Object.assign({}, origin, response.data)\r\n\r\n                    this.id = param\r\n                    this.editProductModal = true\r\n                } else {\r\n                    this.$dispatch(\'show-error\')\r\n                }\r\n            })                \r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.selected-tag {\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    height: 26px;\r\n    margin: 4px 1px 0 3px;\r\n    padding: 0 .25em;\r\n    float: left;\r\n    line-height: 1.7em;\r\n    color: #147688;\r\n    background-color: #d7f3f9;\r\n    border-color: #91ddec;\r\n    white-space: nowrap;\r\n}\r\n\r\n.selected-tag .close {\r\n    float: none;\r\n    margin-right: 0;\r\n    font-size: 20px;\r\n    -webkit-appearance: none;\r\n    padding: 0;\r\n    cursor: pointer;\r\n    background: 0 0;\r\n    border: 0;\r\n    font-weight: 700;\r\n    line-height: 1;\r\n    color: #000;\r\n    text-shadow: 0 1px 0 #fff;\r\n    filter: alpha(opacity=20);\r\n    opacity: .2;\r\n}\r\n\r\n.selected-tag .close:hover {\r\n    color: #000;\r\n    filter: alpha(opacity=50);\r\n    opacity: .5;\r\n}\r\n</style>'],sourceRoot:"webpack://"}])},,,,function(e,t,n){t=e.exports=n(4)(),t.push([e.id,".selected-tag[_v-7cfb9fec]{border:1px solid #ccc;border-radius:4px;height:26px;margin:4px 1px 0 3px;padding:0 .25em;float:left;line-height:1.7em;color:#147688;background-color:#d7f3f9;border-color:#91ddec;white-space:nowrap}.selected-tag .close[_v-7cfb9fec]{float:none;margin-right:0;font-size:20px;-webkit-appearance:none;padding:0;cursor:pointer;background:0 0;border:0;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;filter:alpha(opacity=20);opacity:.2}.selected-tag .close[_v-7cfb9fec]:hover{color:#000;filter:alpha(opacity=50);opacity:.5}","",{version:3,sources:["/./src/components/business/business_search/CreateProduct.vue.style"],names:[],mappings:"AAmcA,2BACA,sBAAA,AACA,kBAAA,AACA,YAAA,AACA,qBAAA,AACA,gBAAA,AACA,WAAA,AACA,kBAAA,AACA,cAAA,AACA,yBAAA,AACA,qBAAA,AACA,kBAAA,CACA,AAEA,kCACA,WAAA,AACA,eAAA,AACA,eAAA,AACA,wBAAA,AACA,UAAA,AACA,eAAA,AACA,eAAA,AACA,SAAA,AACA,gBAAA,AACA,cAAA,AACA,WAAA,AACA,yBAAA,AACA,yBAAA,AACA,UAAA,CACA,AAEA,wCACA,WAAA,AACA,yBAAA,AACA,UAAA,CACA",file:"CreateProduct.vue",sourcesContent:['<!-- 新增产品 -->\r\n<template>\r\n    <modal :show.sync="creatProductModal" effect="fade" width="850px">\r\n        <div slot="modal-header" class="modal-header">\r\n            <h4 class="modal-title">新增产品</h4>\r\n        </div>\r\n        <div slot="modal-body" class="modal-body mh500">\r\n            <form class="form-horizontal clearfix">\r\n                <div class="col-sm-12">\r\n                    <div class="form-group input-box">\r\n                        <label class="control-label col-sm-2">业务类型：<span class="text-danger">*</span></label>\r\n                        <div class="col-sm-9">\r\n                            <v-select :value.sync="businessType" :options="businessTypes" placeholder="请选择">\r\n                            </v-select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12" v-show="businessType !== \'1\'">\r\n                    <div class="form-group">\r\n                        <label class="control-label col-sm-2">产品名称：<span class="text-danger">*</span></label>\r\n                        <div class="col-sm-9">\r\n                            <input type="text" class="form-control" v-model="productName">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">部门：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-8" style="width: 262px; padding-right: 0">\r\n                                <v-select :value.sync="department1" :options="departments1" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <div class="col-sm-10">\r\n                                <v-select :value.sync="department2" :options="departments2" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>  \r\n                <div class="col-sm-12" v-show="businessType === \'1\'">\r\n                    <div class="col-sm-6" >\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">游戏列表：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-6">\r\n                                <v-select :value.sync="gameList" :options="gameLists" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">区域名称：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-3 pr0">\r\n                                <v-select :value.sync="area" :options="areas" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                            <div class="col-sm-3 pl0">\r\n                                <input type="text" class="form-control" v-model="childType" placeholder="选填">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12" v-show="businessType === \'1\'">\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">游戏类型：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-6">\r\n                                <v-select :value.sync="gameType" :options="gameTypes" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">平台类型：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-6">\r\n                                <v-select :value.sync="platformType" :options="platformTypes" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12" v-show="businessType === \'1\'">\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">研发模式：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-6">\r\n                                <v-select :value.sync="developModel" :options="developModels" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">运营阶段：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-6">\r\n                                <v-select :value.sync="phase" :options="phases" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">产品级别：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-6">\r\n                                <v-select :value.sync="productLevel" :options="productLevels" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">子公司：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-6">\r\n                                <v-select :value.sync="company" :options="companys" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12" v-show="businessType === \'1\'">\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">工作室：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-6">\r\n                                <v-select :value.sync="studio" :options="studios" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-sm-6">\r\n                        <div class="form-group input-box">\r\n                            <label class="control-label col-sm-4">发行部：<span class="text-danger">*</span></label>\r\n                            <div class="col-sm-6">\r\n                                <v-select :value.sync="release" :options="releases" placeholder="请选择">\r\n                                </v-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="form-group input-box mb0">\r\n                        <label class="control-label col-sm-2">项目负责人：</label>\r\n                        <div class="col-sm-9">\r\n                            <typeahead\r\n                                :on-hit="addProjectManager"\r\n                                :async="\'/product/getUser/?name=\'"\r\n                                :key="\'name\'"\r\n                                placeholder="按回车键添加"\r\n                            >\r\n                            </typeahead>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="form-group mb20">\r\n                        <div class="col-sm-9 col-sm-offset-2">\r\n                            <span class="selected-tag" v-for="projectManager in projectManagers" track-by="$index">\r\n                                <span v-text="projectManager"></span>\r\n                                <button type="button" class="close" @click="deleteUser($index, \'projectManagers\')">\r\n                                    <span aria-hidden="true">×</span>\r\n                                </button>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="form-group input-box mb0">\r\n                        <label class="control-label col-sm-2">运营负责人：</label>\r\n                        <div class="col-sm-9">\r\n                            <typeahead\r\n                                :on-hit="addOperationalManager"\r\n                                :async="\'/product/getUser/?name=\'"\r\n                                :key="\'name\'"\r\n                                placeholder="按回车键添加"\r\n                            >\r\n                            </typeahead>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="form-group mb20">\r\n                        <div class="col-sm-9 col-sm-offset-2">\r\n                            <span class="selected-tag" v-for="operationalManager in operationalManagers" track-by="$index">\r\n                                <span v-text="operationalManager"></span>\r\n                                <button type="button" class="close" @click="deleteUser($index, \'operationalManagers\')">\r\n                                    <span aria-hidden="true">×</span>\r\n                                </button>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="form-group input-box mb0">\r\n                        <label class="control-label col-sm-2">运维负责人：<span class="text-danger">*</span></label>\r\n                        <div class="col-sm-9">\r\n                            <typeahead\r\n                                :on-hit="addMaintainManager"\r\n                                :async="\'/product/getUser/?name=\'"\r\n                                :key="\'name\'"\r\n                                placeholder="按回车键添加"\r\n                            >\r\n                            </typeahead>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="form-group mb20">\r\n                        <div class="col-sm-9 col-sm-offset-2">\r\n                            <span class="selected-tag" v-for="maintainManager in maintainManagers" track-by="$index">\r\n                                <span v-text="maintainManager"></span>\r\n                                <button type="button" class="close" @click="deleteUser($index, \'maintainManagers\')">\r\n                                    <span aria-hidden="true">×</span>\r\n                                </button>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="form-group input-box mb0">\r\n                        <label class="control-label col-sm-2">市场负责人：</label>\r\n                        <div class="col-sm-9">\r\n                            <typeahead\r\n                                :on-hit="addMarketManager"\r\n                                :async="\'/product/getUser/?name=\'"\r\n                                :key="\'name\'"\r\n                                placeholder="按回车键添加"\r\n                            >\r\n                            </typeahead>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12">\r\n                    <div class="form-group mb20">\r\n                        <div class="col-sm-9 col-sm-offset-2">\r\n                            <span class="selected-tag" v-for="marketManager in marketManagers" track-by="$index">\r\n                                <span v-text="marketManager"></span>\r\n                                <button type="button" class="close" @click="deleteUser($index, \'marketManagers\')">\r\n                                    <span aria-hidden="true">×</span>\r\n                                </button>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <div slot="modal-footer" class="modal-footer">\r\n            <button type="button" class="btn btn-default" @click="saveFn">保存</button>\r\n            <button type="button" class="btn btn-default" @click=\'creatProductModal = false\'>取消</button>\r\n        </div>\r\n    </modal>\r\n</template>\r\n\r\n<script>\r\nimport { modal } from \'vue-strap\'\r\nimport typeahead from \'../../global/Typeahead.vue\'\r\nimport vSelect from \'../../global/Select.vue\'\r\nimport { getBusinessSearch } from \'../../../vuex/action.js\'\r\nimport { productTypes, phases, gameTypes, platformTypes, developModels, gameLists, productLevels, studios, releases, companys, departments1, areas} from \'../../../vuex/getters.js\'\r\n\r\nlet origin = {\r\n        creatProductModal: false,\r\n        businessType: \'1\',\r\n        gameList: \'\',\r\n        area: \'2\',\r\n        childType: \'\',\r\n        department1: \'\',\r\n        department2: \'\',\r\n        productName: \'\',\r\n        productLevel: \'\',\r\n        gameType: \'\',\r\n        platformType: \'\',\r\n        developModel: \'\',\r\n        phase: \'\',\r\n        company: \'\',\r\n        studio: \'\',\r\n        release: \'\',\r\n        projectManagers: [],\r\n        maintainManagers: [],\r\n        operationalManagers: [],\r\n        marketManagers: [],\r\n        departments2: []\r\n    },\r\n    init = Object.assign({}, origin);\r\n\r\nexport default {\r\n    data () {\r\n        return origin\r\n    },\r\n    methods: {\r\n\r\n        // 模糊搜索项目负责人\r\n        addProjectManager (items, targetVM) {\r\n            if ($.inArray(items, this.projectManagers) === -1 && items) {\r\n                this.projectManagers.push(items) \r\n            }\r\n            \r\n            targetVM.reset()\r\n        },\r\n\r\n        // 模糊搜索运营负责人\r\n        addOperationalManager (items, targetVM) {\r\n            if ($.inArray(items, this.operationalManagers) === -1 && items) {\r\n                this.operationalManagers.push(items) \r\n            }\r\n            \r\n            targetVM.reset()\r\n        },\r\n\r\n        // 模糊搜索运维负责人\r\n        addMaintainManager (items, targetVM) {\r\n            if ($.inArray(items, this.maintainManagers) === -1 && items) {\r\n                this.maintainManagers.push(items) \r\n            }\r\n            \r\n            targetVM.reset()\r\n        },\r\n\r\n        // 模糊搜索市场负责人\r\n        addMarketManager (items, targetVM) {\r\n            if ($.inArray(items, this.marketManagers) === -1 && items) {\r\n                this.marketManagers.push(items) \r\n            }\r\n            \r\n            targetVM.reset()\r\n        },\r\n\r\n        // 删除负责人\r\n        deleteUser (index, name) {\r\n            this[name].splice(index, 1)\r\n        },\r\n\r\n        // 新增产品\r\n        saveFn () {\r\n            if (this.businessType === \'1\') {\r\n\r\n                if (this.gameList && this.department1 && this.productLevel && this.gameType && this.platformType\r\n                    && this.developModel && this.phase && this.maintainManagers.length && this.company \r\n                    && this.studio && this.release && this.area) {\r\n\r\n                    this.saveVaild()\r\n                    \r\n                } else {\r\n                    this.$dispatch(\'show-notify\', \'存在未填写的必填项，请检查\')\r\n                }\r\n\r\n            } else if (this.businessType !== \'1\' && this.businessType) {\r\n\r\n                if (this.department1 && this.productLevel && this.maintainManagers.length\r\n                    && this.company && this.productName) {\r\n\r\n                    this.saveVaild()\r\n                    \r\n                } else {\r\n                    this.$dispatch(\'show-notify\', \'存在未填写的必填项，请检查\')\r\n                }\r\n            } else {\r\n                this.$dispatch(\'show-notify\', \'请选择业务类型\')\r\n            }\r\n        },\r\n\r\n        // 执行保存\r\n        saveVaild () {\r\n            this.$http({\r\n                url: \'/product/operate/\',\r\n                method: \'POST\',\r\n                data: this.$data\r\n            })\r\n            .then(response => {\r\n                if (response.data.code === 200) {\r\n                    this.creatProductModal = false\r\n                    this.$data = Object.assign({}, init)\r\n                    this.getBusinessSearch()\r\n\r\n                    this.$dispatch(\'refresh\')\r\n                    this.$dispatch(\'show-success\')\r\n                } else {\r\n                    this.$dispatch(\'show-error\', response.data.msg)\r\n                }\r\n            })\r\n        }\r\n    },\r\n    components: {\r\n        modal,\r\n        vSelect,\r\n        typeahead\r\n    },\r\n    vuex: {\r\n        actions: {\r\n            getBusinessSearch\r\n        },\r\n        getters: {\r\n            businessTypes: productTypes,\r\n            phases,\r\n            gameTypes,\r\n            platformTypes,\r\n            developModels,\r\n            gameLists,\r\n            productLevels,\r\n            studios,\r\n            releases,\r\n            companys,\r\n            departments1,\r\n            areas\r\n        }\r\n    },\r\n    watch: {\r\n        \'businessType\' (newVal) {\r\n            if (newVal === \'1\') {\r\n                this.productName = \'\'\r\n            } else if (newVal !== \'1\' && newVal) {\r\n                this.gameList = \'\'\r\n                this.costCenter = \'\'\r\n                this.childType = \'\'\r\n                this.gameType = \'\'\r\n                this.platformType = \'\'\r\n                this.developModel = \'\'\r\n                this.phase = \'\'\r\n                this.studio = \'\'\r\n                this.release = \'\'\r\n                this.company = this.company || \'1\'\r\n            }\r\n        },\r\n        \'department1\' (newVal) {\r\n            this.department2 = \'\'\r\n\r\n            this.$http({\r\n                url: \'/product/getDepartment/?id=\' + newVal,\r\n                method: \'GET\'\r\n            })\r\n            .then(response => {\r\n                this.departments2 = response.data.departments2\r\n            })\r\n        }\r\n    },\r\n    events: {\r\n        \'showCreateProduct\' () {\r\n            this.creatProductModal = true\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.selected-tag {\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    height: 26px;\r\n    margin: 4px 1px 0 3px;\r\n    padding: 0 .25em;\r\n    float: left;\r\n    line-height: 1.7em;\r\n    color: #147688;\r\n    background-color: #d7f3f9;\r\n    border-color: #91ddec;\r\n    white-space: nowrap;\r\n}\r\n\r\n.selected-tag .close {\r\n    float: none;\r\n    margin-right: 0;\r\n    font-size: 20px;\r\n    -webkit-appearance: none;\r\n    padding: 0;\r\n    cursor: pointer;\r\n    background: 0 0;\r\n    border: 0;\r\n    font-weight: 700;\r\n    line-height: 1;\r\n    color: #000;\r\n    text-shadow: 0 1px 0 #fff;\r\n    filter: alpha(opacity=20);\r\n    opacity: .2;\r\n}\r\n\r\n.selected-tag .close:hover {\r\n    color: #000;\r\n    filter: alpha(opacity=50);\r\n    opacity: .5;\r\n}\r\n</style>'],
sourceRoot:"webpack://"}])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var s=n(223);"string"==typeof s&&(s=[[e.id,s,""]]);n(5)(s,{});s.locals&&(e.exports=s.locals)},,,,,,function(e,t,n){var s=n(229);"string"==typeof s&&(s=[[e.id,s,""]]);n(5)(s,{});s.locals&&(e.exports=s.locals)},,,,function(e,t,n){var s=n(233);"string"==typeof s&&(s=[[e.id,s,""]]);n(5)(s,{});s.locals&&(e.exports=s.locals)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports='<div _v-539e553e=""> <form class="form-horizontal clearfix form-search" _v-539e553e=""> <div class=col-sm-3 _v-539e553e=""> <div class=form-group _v-539e553e=""> <label class="control-label col-sm-4" _v-539e553e="">产品名称：</label> <div class=col-sm-8 _v-539e553e=""> <input type=text class=form-control v-model=param.productName _v-539e553e=""> </div> </div> <div class="form-group input-box" _v-539e553e=""> <label class="control-label col-sm-4" _v-539e553e="">游戏类型：</label> <div class=col-sm-8 _v-539e553e=""> <v-select :value.sync=param.gameType :options=gameTypes placeholder=请选择 _v-539e553e=""> </v-select> </div> </div> <div class=form-group _v-539e553e=""> <label class="control-label col-sm-4" _v-539e553e="">项目负责人：</label> <div class=col-sm-8 _v-539e553e=""> <input type=text class=form-control v-model=param.projectManager _v-539e553e=""> </div> </div> </div> <div class=col-sm-3 _v-539e553e=""> <div class="form-group input-box" _v-539e553e=""> <label class="control-label col-sm-4" _v-539e553e="">部门：</label> <div class="col-sm-4 input-box pr0" _v-539e553e=""> <v-select :value.sync=param.department1 :options=departments1 placeholder=请选择 _v-539e553e=""> </v-select> </div> <div class="col-sm-4 input-box pl0" _v-539e553e=""> <v-select :value.sync=param.department2 :options=departments2 placeholder=请选择 _v-539e553e=""> </v-select> </div> </div> <div class="form-group input-box" _v-539e553e=""> <label class="control-label col-sm-4" _v-539e553e="">平台类型：</label> <div class=col-sm-8 _v-539e553e=""> <v-select :value.sync=param.platformType :options=platformTypes placeholder=请选择 _v-539e553e=""> </v-select> </div> </div> <div class=form-group _v-539e553e=""> <label class="control-label col-sm-4" _v-539e553e="">运营负责人：</label> <div class=col-sm-8 _v-539e553e=""> <input type=text class=form-control v-model=param.operationalManager _v-539e553e=""> </div> </div> </div> <div class=col-sm-3 _v-539e553e=""> <div class="form-group input-box" _v-539e553e=""> <label class="control-label col-sm-4" _v-539e553e="">业务类型：</label> <div class=col-sm-8 _v-539e553e=""> <v-select :value.sync=param.businessType :options=businessTypes placeholder=请选择 _v-539e553e=""> </v-select> </div> </div> <div class="form-group input-box" _v-539e553e=""> <label class="control-label col-sm-4" _v-539e553e="">研发模式：</label> <div class=col-sm-8 _v-539e553e=""> <v-select :value.sync=param.developModel :options=developModels placeholder=请选择 _v-539e553e=""> </v-select> </div> </div> <div class=form-group _v-539e553e=""> <label class="control-label col-sm-4" _v-539e553e="">运维负责人：</label> <div class=col-sm-8 _v-539e553e=""> <input type=text class=form-control v-model=param.maintainManager _v-539e553e=""> </div> </div> </div> <div class=col-sm-3 _v-539e553e=""> <div class="form-group input-box" _v-539e553e=""> <label class="control-label col-sm-4" _v-539e553e="">运营阶段：</label> <div class=col-sm-8 _v-539e553e=""> <v-select :value.sync=param.phase :options=phases placeholder=请选择 _v-539e553e=""> </v-select> </div> </div> <div class="form-group input-box" _v-539e553e=""> <label class="control-label col-sm-4" _v-539e553e="">产品级别：</label> <div class=col-sm-8 _v-539e553e=""> <v-select :value.sync=productLevel :options=productLevels placeholder=请选择 _v-539e553e=""> </v-select> </div> </div> <div class=form-group _v-539e553e=""> <label class="control-label col-sm-4" _v-539e553e="">市场负责人：</label> <div class=col-sm-8 _v-539e553e=""> <input type=text class=form-control v-model=param.marketManager _v-539e553e=""> </div> </div> </div> </form> <div class="text-center btn-operate" _v-539e553e=""> <button type=button class="btn btn-default" @click=refresh _v-539e553e=""> 查询 </button> <button v-if="perm.新增产品 || perm.all" type=button class="btn btn-default" @click="$broadcast(\'showCreateProduct\')" _v-539e553e=""> 新增产品 </button> <dropdown v-el:confirm="" v-if="perm.删除产品 || perm.all" _v-539e553e=""> <button type=button class="btn btn-default" data-toggle=dropdown _v-539e553e=""> 批量删除 <span class=caret _v-539e553e=""></span> </button> <div slot=dropdown-menu class="dropdown-menu pd20" _v-539e553e=""> <button type=button class="btn btn-danger btn-block" @click=deleteFn _v-539e553e="">确定</button> <button type=button class="btn btn-default btn-block" @click=cancelFn _v-539e553e="">取消</button> </div> </dropdown> </div> <div class="text-center table-title" _v-539e553e=""> 查询结果 </div> <div class=table-box _v-539e553e=""> <table class="table table-hover table-bordered" _v-539e553e=""> <thead _v-539e553e=""> <tr _v-539e553e=""> <th width=3% _v-539e553e=""><input type=checkbox v-model=checkedAll _v-539e553e=""></th> <th v-for="title in titles" v-text=title _v-539e553e=""></th> </tr> </thead> <tbody _v-539e553e=""> <tr v-for="list in tableList" v-if="tableList.length !== 0" v-show="tableList.length !== 0" _v-539e553e=""> <td _v-539e553e=""><input type=checkbox :id=list.id :value=list.id v-model=checkedIds _v-539e553e=""></td> <td :title=list.productName _v-539e553e=""> <a class=pointer v-text=list.productName @click="$broadcast(\'showEditProduct\', list.id)" _v-539e553e=""> </a></td> <td :title=list.businessType v-text=list.businessType _v-539e553e=""></td> <td :title=list.productLevel v-text=list.productLevel _v-539e553e=""></td> <td :title=list.platformType v-text=list.platformType _v-539e553e=""></td> <td :title=list.gameType v-text=list.gameType _v-539e553e=""></td> <td :title=list.developModel v-text=list.developModel _v-539e553e=""></td> <td :title=list.department v-text=list.department _v-539e553e=""></td> <td :title=list.phase v-text=list.phase _v-539e553e=""></td> <td :title=list.projectManager v-text=list.projectManager _v-539e553e=""></td> <td :title=list.operationalManager v-text=list.operationalManager _v-539e553e=""></td> <td :title=list.maintainManager v-text=list.maintainManager _v-539e553e=""></td> <td :title=list.marketManager v-text=list.marketManager _v-539e553e=""></td> <td :title=list.studio v-text=list.studio _v-539e553e=""></td> <td :title=list.release v-text=list.release _v-539e553e=""></td> <td :title=list.company v-text=list.company _v-539e553e=""></td> </tr> <tr class=text-center v-show="tableList.length === 0" _v-539e553e=""> <td :colspan="titles.length + 1" _v-539e553e="">暂无数据</td> </tr> </tbody> <tfoot _v-539e553e=""> <tr _v-539e553e=""> <td :colspan="titles.length + 1" _v-539e553e=""> <boot-page v-ref:page="" :async=true :lens=lenArr :page-len=pageLen :url=url :param=param _v-539e553e=""></boot-page> </td> </tr> </tfoot> </table> <spinner id=spinner-box :size=md :fixed=false text=数据加载中，请稍后... v-ref:spinner="" _v-539e553e=""> </spinner> </div> <create-product-modal _v-539e553e=""></create-product-modal> <edit-product-modal _v-539e553e=""></edit-product-modal> </div>'},,,,,function(e,t){e.exports='<modal :show.sync=editProductModal effect=fade width=850px _v-68d32c08=""> <div slot=modal-header class=modal-header _v-68d32c08=""> <h4 class=modal-title _v-68d32c08="">修改产品</h4> </div> <div slot=modal-body class="modal-body mh500" _v-68d32c08=""> <form class="form-horizontal clearfix" _v-68d32c08=""> <div class=col-sm-12 _v-68d32c08=""> <div class="form-group input-box" _v-68d32c08=""> <label class="control-label col-sm-2" _v-68d32c08="">业务类型：<span class=text-danger _v-68d32c08="">*</span></label> <div class=col-sm-9 _v-68d32c08=""> <v-select :value.sync=businessType :options=businessTypes placeholder=请选择 :disabled=true _v-68d32c08=""> </v-select> </div> </div> </div> <div class=col-sm-12 v-show="businessType !== \'1\'" _v-68d32c08=""> <div class=form-group _v-68d32c08=""> <label class="control-label col-sm-2" _v-68d32c08="">产品名称：<span class=text-danger _v-68d32c08="">*</span></label> <div class=col-sm-9 _v-68d32c08=""> <input type=text class=form-control v-model=productName :disabled=true _v-68d32c08=""> </div> </div> </div> <div class=col-sm-12 _v-68d32c08=""> <div class=col-sm-6 _v-68d32c08=""> <div class="form-group input-box" _v-68d32c08=""> <label class="control-label col-sm-4" _v-68d32c08="">部门：<span class=text-danger _v-68d32c08="">*</span></label> <div class=col-sm-8 style="width: 262px; padding-right: 0" _v-68d32c08=""> <v-select :value.sync=department1 :options=departments1 placeholder=请选择 _v-68d32c08=""> </v-select> </div> </div> </div> <div class=col-sm-6 _v-68d32c08=""> <div class="form-group input-box" _v-68d32c08=""> <div class=col-sm-10 _v-68d32c08=""> <v-select :value.sync=department2 :options=departments2 placeholder=请选择 _v-68d32c08=""> </v-select> </div> </div> </div> </div> <div class=col-sm-12 v-show="businessType === \'1\'" _v-68d32c08=""> <div class=col-sm-6 _v-68d32c08=""> <div class="form-group input-box" _v-68d32c08=""> <label class="control-label col-sm-4" _v-68d32c08="">游戏列表：<span class=text-danger _v-68d32c08="">*</span></label> <div class=col-sm-6 _v-68d32c08=""> <v-select :value.sync=gameList :options=gameLists placeholder=请选择 :disabled=true _v-68d32c08=""> </v-select> </div> </div> </div> <div class=col-sm-6 _v-68d32c08=""> <div class="form-group input-box" _v-68d32c08=""> <label class="control-label col-sm-4" _v-68d32c08="">区域名称：<span class=text-danger _v-68d32c08="">*</span></label> <div class="col-sm-3 pr0" _v-68d32c08=""> <v-select :value.sync=area :options=areas placeholder=请选择 _v-68d32c08=""> </v-select> </div> <div class="col-sm-3 pl0" _v-68d32c08=""> <input type=text class=form-control v-model=childType placeholder=选填 _v-68d32c08=""> </div> </div> </div> </div> <div class=col-sm-12 v-show="businessType === \'1\'" _v-68d32c08=""> <div class=col-sm-6 _v-68d32c08=""> <div class="form-group input-box" _v-68d32c08=""> <label class="control-label col-sm-4" _v-68d32c08="">游戏类型：<span class=text-danger _v-68d32c08="">*</span></label> <div class=col-sm-6 _v-68d32c08=""> <v-select :value.sync=gameType :options=gameTypes placeholder=请选择 _v-68d32c08=""> </v-select> </div> </div> </div> <div class=col-sm-6 _v-68d32c08=""> <div class="form-group input-box" _v-68d32c08=""> <label class="control-label col-sm-4" _v-68d32c08="">平台类型：<span class=text-danger _v-68d32c08="">*</span></label> <div class=col-sm-6 _v-68d32c08=""> <v-select :value.sync=platformType :options=platformTypes placeholder=请选择 _v-68d32c08=""> </v-select> </div> </div> </div> </div> <div class=col-sm-12 v-show="businessType === \'1\'" _v-68d32c08=""> <div class=col-sm-6 _v-68d32c08=""> <div class="form-group input-box" _v-68d32c08=""> <label class="control-label col-sm-4" _v-68d32c08="">研发模式：<span class=text-danger _v-68d32c08="">*</span></label> <div class=col-sm-6 _v-68d32c08=""> <v-select :value.sync=developModel :options=developModels placeholder=请选择 _v-68d32c08=""> </v-select> </div> </div> </div> <div class=col-sm-6 _v-68d32c08=""> <div class="form-group input-box" _v-68d32c08=""> <label class="control-label col-sm-4" _v-68d32c08="">运营阶段：<span class=text-danger _v-68d32c08="">*</span></label> <div class=col-sm-6 _v-68d32c08=""> <v-select :value.sync=phase :options=phases placeholder=请选择 _v-68d32c08=""> </v-select> </div> </div> </div> </div> <div class=col-sm-12 _v-68d32c08=""> <div class=col-sm-6 _v-68d32c08=""> <div class="form-group input-box" _v-68d32c08=""> <label class="control-label col-sm-4" _v-68d32c08="">产品级别：<span class=text-danger _v-68d32c08="">*</span></label> <div class=col-sm-6 _v-68d32c08=""> <v-select :value.sync=productLevel :options=productLevels placeholder=请选择 _v-68d32c08=""> </v-select> </div> </div> </div> <div class=col-sm-6 _v-68d32c08=""> <div class="form-group input-box" _v-68d32c08=""> <label class="control-label col-sm-4" _v-68d32c08="">子公司：<span class=text-danger _v-68d32c08="">*</span></label> <div class=col-sm-6 _v-68d32c08=""> <v-select :value.sync=company :options=companys placeholder=请选择 _v-68d32c08=""> </v-select> </div> </div> </div> </div> <div class=col-sm-12 v-show="businessType === \'1\'" _v-68d32c08=""> <div class=col-sm-6 _v-68d32c08=""> <div class="form-group input-box" _v-68d32c08=""> <label class="control-label col-sm-4" _v-68d32c08="">工作室：<span class=text-danger _v-68d32c08="">*</span></label> <div class=col-sm-6 _v-68d32c08=""> <v-select :value.sync=studio :options=studios placeholder=请选择 _v-68d32c08=""> </v-select> </div> </div> </div> <div class=col-sm-6 _v-68d32c08=""> <div class="form-group input-box" _v-68d32c08=""> <label class="control-label col-sm-4" _v-68d32c08="">发行部：<span class=text-danger _v-68d32c08="">*</span></label> <div class=col-sm-6 _v-68d32c08=""> <v-select :value.sync=release :options=releases placeholder=请选择 _v-68d32c08=""> </v-select> </div> </div> </div> </div> <div class=col-sm-12 _v-68d32c08=""> <div class="form-group input-box mb0" _v-68d32c08=""> <label class="control-label col-sm-2" _v-68d32c08="">项目负责人：</label> <div class=col-sm-9 _v-68d32c08=""> <typeahead :on-hit=addProjectManager :async="\'/product/getUser/?name=\'" :key="\'name\'" placeholder=按回车键添加 _v-68d32c08=""> </typeahead> </div> </div> </div> <div class=col-sm-12 _v-68d32c08=""> <div class="form-group mb20" _v-68d32c08=""> <div class="col-sm-9 col-sm-offset-2" _v-68d32c08=""> <span class=selected-tag v-for="projectManager in projectManagers" track-by=$index _v-68d32c08=""> <span v-text=projectManager _v-68d32c08=""></span> <button type=button class=close @click="deleteUser($index, \'projectManagers\')" _v-68d32c08=""> <span aria-hidden=true _v-68d32c08="">×</span> </button> </span> </div> </div> </div> <div class=col-sm-12 _v-68d32c08=""> <div class="form-group input-box mb0" _v-68d32c08=""> <label class="control-label col-sm-2" _v-68d32c08="">运营负责人：</label> <div class=col-sm-9 _v-68d32c08=""> <typeahead :on-hit=addOperationalManager :async="\'/product/getUser/?name=\'" :key="\'name\'" placeholder=按回车键添加 _v-68d32c08=""> </typeahead> </div> </div> </div> <div class=col-sm-12 _v-68d32c08=""> <div class="form-group mb20" _v-68d32c08=""> <div class="col-sm-9 col-sm-offset-2" _v-68d32c08=""> <span class=selected-tag v-for="operationalManager in operationalManagers" track-by=$index _v-68d32c08=""> <span v-text=operationalManager _v-68d32c08=""></span> <button type=button class=close @click="deleteUser($index, \'operationalManagers\')" _v-68d32c08=""> <span aria-hidden=true _v-68d32c08="">×</span> </button> </span> </div> </div> </div> <div class=col-sm-12 _v-68d32c08=""> <div class="form-group input-box mb0" _v-68d32c08=""> <label class="control-label col-sm-2" _v-68d32c08="">运维负责人：<span class=text-danger _v-68d32c08="">*</span></label> <div class=col-sm-9 _v-68d32c08=""> <typeahead :on-hit=addMaintainManager :async="\'/product/getUser/?name=\'" :key="\'name\'" placeholder=按回车键添加 _v-68d32c08=""> </typeahead> </div> </div> </div> <div class=col-sm-12 _v-68d32c08=""> <div class="form-group mb20" _v-68d32c08=""> <div class="col-sm-9 col-sm-offset-2" _v-68d32c08=""> <span class=selected-tag v-for="maintainManager in maintainManagers" track-by=$index _v-68d32c08=""> <span v-text=maintainManager _v-68d32c08=""></span> <button type=button class=close @click="deleteUser($index, \'maintainManagers\')" _v-68d32c08=""> <span aria-hidden=true _v-68d32c08="">×</span> </button> </span> </div> </div> </div> <div class=col-sm-12 _v-68d32c08=""> <div class="form-group input-box mb0" _v-68d32c08=""> <label class="control-label col-sm-2" _v-68d32c08="">市场负责人：</label> <div class=col-sm-9 _v-68d32c08=""> <typeahead :on-hit=addMarketManager :async="\'/product/getUser/?name=\'" :key="\'name\'" placeholder=按回车键添加 _v-68d32c08=""> </typeahead> </div> </div> </div> <div class=col-sm-12 _v-68d32c08=""> <div class="form-group mb20" _v-68d32c08=""> <div class="col-sm-9 col-sm-offset-2" _v-68d32c08=""> <span class=selected-tag v-for="marketManager in marketManagers" track-by=$index _v-68d32c08=""> <span v-text=marketManager _v-68d32c08=""></span> <button type=button class=close @click="deleteUser($index, \'marketManagers\')" _v-68d32c08=""> <span aria-hidden=true _v-68d32c08="">×</span> </button> </span> </div> </div> </div> </form> </div> <div slot=modal-footer class=modal-footer _v-68d32c08=""> <button v-if="perm.编辑产品 || perm.all" type=button class="btn btn-default" @click=saveFn :disabled="save === 0 ? true : false" _v-68d32c08="">保存</button> <button type=button class="btn btn-default" @click="editProductModal = false" _v-68d32c08="">取消</button> </div> </modal>'},,,,function(e,t){e.exports='<modal :show.sync=creatProductModal effect=fade width=850px _v-7cfb9fec=""> <div slot=modal-header class=modal-header _v-7cfb9fec=""> <h4 class=modal-title _v-7cfb9fec="">新增产品</h4> </div> <div slot=modal-body class="modal-body mh500" _v-7cfb9fec=""> <form class="form-horizontal clearfix" _v-7cfb9fec=""> <div class=col-sm-12 _v-7cfb9fec=""> <div class="form-group input-box" _v-7cfb9fec=""> <label class="control-label col-sm-2" _v-7cfb9fec="">业务类型：<span class=text-danger _v-7cfb9fec="">*</span></label> <div class=col-sm-9 _v-7cfb9fec=""> <v-select :value.sync=businessType :options=businessTypes placeholder=请选择 _v-7cfb9fec=""> </v-select> </div> </div> </div> <div class=col-sm-12 v-show="businessType !== \'1\'" _v-7cfb9fec=""> <div class=form-group _v-7cfb9fec=""> <label class="control-label col-sm-2" _v-7cfb9fec="">产品名称：<span class=text-danger _v-7cfb9fec="">*</span></label> <div class=col-sm-9 _v-7cfb9fec=""> <input type=text class=form-control v-model=productName _v-7cfb9fec=""> </div> </div> </div> <div class=col-sm-12 _v-7cfb9fec=""> <div class=col-sm-6 _v-7cfb9fec=""> <div class="form-group input-box" _v-7cfb9fec=""> <label class="control-label col-sm-4" _v-7cfb9fec="">部门：<span class=text-danger _v-7cfb9fec="">*</span></label> <div class=col-sm-8 style="width: 262px; padding-right: 0" _v-7cfb9fec=""> <v-select :value.sync=department1 :options=departments1 placeholder=请选择 _v-7cfb9fec=""> </v-select> </div> </div> </div> <div class=col-sm-6 _v-7cfb9fec=""> <div class="form-group input-box" _v-7cfb9fec=""> <div class=col-sm-10 _v-7cfb9fec=""> <v-select :value.sync=department2 :options=departments2 placeholder=请选择 _v-7cfb9fec=""> </v-select> </div> </div> </div> </div> <div class=col-sm-12 v-show="businessType === \'1\'" _v-7cfb9fec=""> <div class=col-sm-6 _v-7cfb9fec=""> <div class="form-group input-box" _v-7cfb9fec=""> <label class="control-label col-sm-4" _v-7cfb9fec="">游戏列表：<span class=text-danger _v-7cfb9fec="">*</span></label> <div class=col-sm-6 _v-7cfb9fec=""> <v-select :value.sync=gameList :options=gameLists placeholder=请选择 _v-7cfb9fec=""> </v-select> </div> </div> </div> <div class=col-sm-6 _v-7cfb9fec=""> <div class="form-group input-box" _v-7cfb9fec=""> <label class="control-label col-sm-4" _v-7cfb9fec="">区域名称：<span class=text-danger _v-7cfb9fec="">*</span></label> <div class="col-sm-3 pr0" _v-7cfb9fec=""> <v-select :value.sync=area :options=areas placeholder=请选择 _v-7cfb9fec=""> </v-select> </div> <div class="col-sm-3 pl0" _v-7cfb9fec=""> <input type=text class=form-control v-model=childType placeholder=选填 _v-7cfb9fec=""> </div> </div> </div> </div> <div class=col-sm-12 v-show="businessType === \'1\'" _v-7cfb9fec=""> <div class=col-sm-6 _v-7cfb9fec=""> <div class="form-group input-box" _v-7cfb9fec=""> <label class="control-label col-sm-4" _v-7cfb9fec="">游戏类型：<span class=text-danger _v-7cfb9fec="">*</span></label> <div class=col-sm-6 _v-7cfb9fec=""> <v-select :value.sync=gameType :options=gameTypes placeholder=请选择 _v-7cfb9fec=""> </v-select> </div> </div> </div> <div class=col-sm-6 _v-7cfb9fec=""> <div class="form-group input-box" _v-7cfb9fec=""> <label class="control-label col-sm-4" _v-7cfb9fec="">平台类型：<span class=text-danger _v-7cfb9fec="">*</span></label> <div class=col-sm-6 _v-7cfb9fec=""> <v-select :value.sync=platformType :options=platformTypes placeholder=请选择 _v-7cfb9fec=""> </v-select> </div> </div> </div> </div> <div class=col-sm-12 v-show="businessType === \'1\'" _v-7cfb9fec=""> <div class=col-sm-6 _v-7cfb9fec=""> <div class="form-group input-box" _v-7cfb9fec=""> <label class="control-label col-sm-4" _v-7cfb9fec="">研发模式：<span class=text-danger _v-7cfb9fec="">*</span></label> <div class=col-sm-6 _v-7cfb9fec=""> <v-select :value.sync=developModel :options=developModels placeholder=请选择 _v-7cfb9fec=""> </v-select> </div> </div> </div> <div class=col-sm-6 _v-7cfb9fec=""> <div class="form-group input-box" _v-7cfb9fec=""> <label class="control-label col-sm-4" _v-7cfb9fec="">运营阶段：<span class=text-danger _v-7cfb9fec="">*</span></label> <div class=col-sm-6 _v-7cfb9fec=""> <v-select :value.sync=phase :options=phases placeholder=请选择 _v-7cfb9fec=""> </v-select> </div> </div> </div> </div> <div class=col-sm-12 _v-7cfb9fec=""> <div class=col-sm-6 _v-7cfb9fec=""> <div class="form-group input-box" _v-7cfb9fec=""> <label class="control-label col-sm-4" _v-7cfb9fec="">产品级别：<span class=text-danger _v-7cfb9fec="">*</span></label> <div class=col-sm-6 _v-7cfb9fec=""> <v-select :value.sync=productLevel :options=productLevels placeholder=请选择 _v-7cfb9fec=""> </v-select> </div> </div> </div> <div class=col-sm-6 _v-7cfb9fec=""> <div class="form-group input-box" _v-7cfb9fec=""> <label class="control-label col-sm-4" _v-7cfb9fec="">子公司：<span class=text-danger _v-7cfb9fec="">*</span></label> <div class=col-sm-6 _v-7cfb9fec=""> <v-select :value.sync=company :options=companys placeholder=请选择 _v-7cfb9fec=""> </v-select> </div> </div> </div> </div> <div class=col-sm-12 v-show="businessType === \'1\'" _v-7cfb9fec=""> <div class=col-sm-6 _v-7cfb9fec=""> <div class="form-group input-box" _v-7cfb9fec=""> <label class="control-label col-sm-4" _v-7cfb9fec="">工作室：<span class=text-danger _v-7cfb9fec="">*</span></label> <div class=col-sm-6 _v-7cfb9fec=""> <v-select :value.sync=studio :options=studios placeholder=请选择 _v-7cfb9fec=""> </v-select> </div> </div> </div> <div class=col-sm-6 _v-7cfb9fec=""> <div class="form-group input-box" _v-7cfb9fec=""> <label class="control-label col-sm-4" _v-7cfb9fec="">发行部：<span class=text-danger _v-7cfb9fec="">*</span></label> <div class=col-sm-6 _v-7cfb9fec=""> <v-select :value.sync=release :options=releases placeholder=请选择 _v-7cfb9fec=""> </v-select> </div> </div> </div> </div> <div class=col-sm-12 _v-7cfb9fec=""> <div class="form-group input-box mb0" _v-7cfb9fec=""> <label class="control-label col-sm-2" _v-7cfb9fec="">项目负责人：</label> <div class=col-sm-9 _v-7cfb9fec=""> <typeahead :on-hit=addProjectManager :async="\'/product/getUser/?name=\'" :key="\'name\'" placeholder=按回车键添加 _v-7cfb9fec=""> </typeahead> </div> </div> </div> <div class=col-sm-12 _v-7cfb9fec=""> <div class="form-group mb20" _v-7cfb9fec=""> <div class="col-sm-9 col-sm-offset-2" _v-7cfb9fec=""> <span class=selected-tag v-for="projectManager in projectManagers" track-by=$index _v-7cfb9fec=""> <span v-text=projectManager _v-7cfb9fec=""></span> <button type=button class=close @click="deleteUser($index, \'projectManagers\')" _v-7cfb9fec=""> <span aria-hidden=true _v-7cfb9fec="">×</span> </button> </span> </div> </div> </div> <div class=col-sm-12 _v-7cfb9fec=""> <div class="form-group input-box mb0" _v-7cfb9fec=""> <label class="control-label col-sm-2" _v-7cfb9fec="">运营负责人：</label> <div class=col-sm-9 _v-7cfb9fec=""> <typeahead :on-hit=addOperationalManager :async="\'/product/getUser/?name=\'" :key="\'name\'" placeholder=按回车键添加 _v-7cfb9fec=""> </typeahead> </div> </div> </div> <div class=col-sm-12 _v-7cfb9fec=""> <div class="form-group mb20" _v-7cfb9fec=""> <div class="col-sm-9 col-sm-offset-2" _v-7cfb9fec=""> <span class=selected-tag v-for="operationalManager in operationalManagers" track-by=$index _v-7cfb9fec=""> <span v-text=operationalManager _v-7cfb9fec=""></span> <button type=button class=close @click="deleteUser($index, \'operationalManagers\')" _v-7cfb9fec=""> <span aria-hidden=true _v-7cfb9fec="">×</span> </button> </span> </div> </div> </div> <div class=col-sm-12 _v-7cfb9fec=""> <div class="form-group input-box mb0" _v-7cfb9fec=""> <label class="control-label col-sm-2" _v-7cfb9fec="">运维负责人：<span class=text-danger _v-7cfb9fec="">*</span></label> <div class=col-sm-9 _v-7cfb9fec=""> <typeahead :on-hit=addMaintainManager :async="\'/product/getUser/?name=\'" :key="\'name\'" placeholder=按回车键添加 _v-7cfb9fec=""> </typeahead> </div> </div> </div> <div class=col-sm-12 _v-7cfb9fec=""> <div class="form-group mb20" _v-7cfb9fec=""> <div class="col-sm-9 col-sm-offset-2" _v-7cfb9fec=""> <span class=selected-tag v-for="maintainManager in maintainManagers" track-by=$index _v-7cfb9fec=""> <span v-text=maintainManager _v-7cfb9fec=""></span> <button type=button class=close @click="deleteUser($index, \'maintainManagers\')" _v-7cfb9fec=""> <span aria-hidden=true _v-7cfb9fec="">×</span> </button> </span> </div> </div> </div> <div class=col-sm-12 _v-7cfb9fec=""> <div class="form-group input-box mb0" _v-7cfb9fec=""> <label class="control-label col-sm-2" _v-7cfb9fec="">市场负责人：</label> <div class=col-sm-9 _v-7cfb9fec=""> <typeahead :on-hit=addMarketManager :async="\'/product/getUser/?name=\'" :key="\'name\'" placeholder=按回车键添加 _v-7cfb9fec=""> </typeahead> </div> </div> </div> <div class=col-sm-12 _v-7cfb9fec=""> <div class="form-group mb20" _v-7cfb9fec=""> <div class="col-sm-9 col-sm-offset-2" _v-7cfb9fec=""> <span class=selected-tag v-for="marketManager in marketManagers" track-by=$index _v-7cfb9fec=""> <span v-text=marketManager _v-7cfb9fec=""></span> <button type=button class=close @click="deleteUser($index, \'marketManagers\')" _v-7cfb9fec=""> <span aria-hidden=true _v-7cfb9fec="">×</span> </button> </span> </div> </div> </div> </form> </div> <div slot=modal-footer class=modal-footer _v-7cfb9fec=""> <button type=button class="btn btn-default" @click=saveFn _v-7cfb9fec="">保存</button> <button type=button class="btn btn-default" @click="creatProductModal = false" _v-7cfb9fec="">取消</button> </div> </modal>'},,,,,,,,,,,,,,,,,,function(e,t,n){var s,r;n(263),s=n(171),r=n(313),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default),r&&(("function"==typeof e.exports?e.exports.options:e.exports).template=r)},function(e,t,n){var s,r;n(273),s=n(172),r=n(322),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default),r&&(("function"==typeof e.exports?e.exports.options:e.exports).template=r)},function(e,t,n){var s,r;n(269),s=n(173),r=n(318),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default),r&&(("function"==typeof e.exports?e.exports.options:e.exports).template=r)}]);
//# sourceMappingURL=9.8a77af053fdae238b08b.js.map