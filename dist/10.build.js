webpackJsonp([10],{45:function(t,e,a){var n,r;a(74),n=a(46),r=a(76),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options:t.exports).template=r)},46:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{pages:{type:Array,"default":function(){return[1]}},async:{type:Boolean,"default":!1},len:{type:Number,"default":10},lens:{type:Array,"default":function(){return[10,50,100]}},data:{type:Array,"default":function(){return[]}},url:{type:String,"default":""},pageLen:{type:Number,"default":5},pageTotal:{type:Number,"default":1},param:{type:Object,"default":function(){return{}}}},data:function(){return{activeNum:0}},methods:{onPageClick:function(t){this.activeNum=t},onPrevClick:function(){if(this.activeNum>0)this.activeNum=this.activeNum-1;else if(1!==this.pages[0]){for(var t=[],e=0;e<this.pages.length;e++)t[e]=this.pages[e]-1;this.pages=t,this.getData()}},onNextClick:function(){if(this.activeNum<this.pages.length-1)this.activeNum=this.activeNum+1;else if(this.pages[this.pages.length-1]<this.pageTotal){for(var t=[],e=0;e<this.pages.length;e++)t[e]=this.pages[e]+1;this.pages=t,this.getData()}},onFirstClick:function(){if(1===this.pages[0])this.activeNum=0;else{for(var t=[],e=1;e<=this.pageLen;e++)t.push(e);this.pages=t,0===this.activeNum?this.getData():this.activeNum=0}},onLastClick:function(){if(this.pageTotal<=this.pageLen)this.activeNum=this.pages.length-1;else{for(var t=[],e=this.pageLen-1;e>=0;e--)t.push(this.pageTotal-e);this.pages=t,this.activeNum===this.pages.length-1?this.getData():this.activeNum=this.pages.length-1}},getPages:function(){if(this.pages=[],this.async||(this.pageTotal=Math.ceil(this.data.length/this.len)),this.pageTotal<=this.pageLen)for(var t=1;t<=this.pageTotal;t++)this.pages.push(t);else for(var e=1;e<=this.pageLen;e++)this.pages.push(e)},getData:function(){if(this.async)this.param.active=this.pages[this.activeNum],this.param.len=this.len,this.$http({url:this.url,method:"POST",data:this.param}).then(function(t){this.pageTotal=t.data.page_num,(this.pages.length!==this.pageLen||this.pageTotal<this.pageLen)&&this.getPages(),t.data.data.length||(this.activeNum=this.pageTotal-1),this.$dispatch("data",t.data)});else{for(var t=this.len,e=this.pages[this.activeNum]-1,a=[],n=e*t;e*t+t>n;n++)void 0!==this.data[n]?a.push(this.data[n]):"";this.$dispatch("data",a)}},refresh:function(){this.getData()},refresh2:function(){this.pages=[1],0===this.activeNum?this.getData():this.activeNum=0}},ready:function(){this.async||this.getPages(),this.getData()},watch:{len:function(t,e){this.async?this.refresh2():(this.getPages(),this.activeNum+1>this.pages.length&&(this.activeNum=this.pages.length-1),this.getData())},activeNum:function(t,e){this.getData()}},events:{"refresh::page":function(){this.refresh()}}}},71:function(t,e,a){e=t.exports=a(1)(),e.push([t.id,".boot-select[_v-457beca8]{float:right;width:80px}.boot-nav[_v-457beca8]{float:right}.boot-page[_v-457beca8]{margin:2px 10px 0 20px}.boot-page[_v-457beca8],.page-total[_v-457beca8]{display:inline-block;vertical-align:middle}","",{version:3,sources:["/./src/components/global/BootPage.vue.style"],names:[],mappings:"AAuSA,0BACA,YAAA,AACA,UAAA,CACA,AAEA,uBACA,WAAA,CACA,AAEA,wBAEA,sBAAA,CAEA,AAEA,iDALA,qBAAA,AAEA,qBAAA,CAMA",file:"BootPage.vue",sourcesContent:['<!-- 表格分页组件 -->\r\n<template>\r\n    <nav class="boot-nav">\r\n        <ul class="pagination boot-page">\r\n            <li>\r\n                <a href="javascript:void(0)" aria-label="Previous" @click="onFirstClick()">\r\n                    <span aria-hidden="true">&laquo;</span>\r\n                </a>\r\n            </li>\r\n            <li>\r\n                <a href="javascript:void(0)" aria-label="Next" @click="onPrevClick()">\r\n                    <span aria-hidden="true">‹</span>\r\n                </a>\r\n            </li>\r\n            <li v-for="page in pages" :class="activeNum === $index ? \'active\' : \'\'">\r\n                <a href="javascript:void(0)" v-text="page" @click="onPageClick($index)"></a>\r\n            </li>\r\n            <li>\r\n                <a href="javascript:void(0)" aria-label="Next" @click="onNextClick()">\r\n                    <span aria-hidden="true">›</span>\r\n                </a>\r\n            </li>\r\n            <li>\r\n                <a href="javascript:void(0)" aria-label="Next" @click="onLastClick()">\r\n                    <span aria-hidden="true">&raquo;</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class="page-total">\r\n            共 <span v-text="pageTotal"></span> 页\r\n        </div>\r\n    </nav>\r\n    <select class="form-control boot-select" v-model="len">\r\n        <option v-for="arr in lens" :value="arr" v-text="arr" :selected="$index === 0 ? true : false"></option>\r\n    </select>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n\r\n        // 页码\r\n        pages: {\r\n            type: Array,\r\n            default: function () {\r\n                return [1]\r\n            }\r\n        },\r\n\r\n        // 是否请求服务器端数据\r\n        async: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        // 每页显示个数\r\n        len: {\r\n            type: Number,\r\n            default: 10\r\n        },\r\n\r\n        // 显示个数数组\r\n        lens: {\r\n            type: Array,\r\n            default: function () {\r\n                return [10, 50, 100]\r\n            }\r\n        },\r\n\r\n        // 表格数据（数组）\r\n        data: {\r\n            type: Array,\r\n            default: function () {\r\n                return []\r\n            }\r\n        },\r\n\r\n        // AJAX地址\r\n        url: {\r\n            type: String,\r\n            default: \'\'\r\n        },\r\n\r\n        // 显示页数\r\n        pageLen: {\r\n            type: Number,\r\n            default: 5\r\n        },\r\n\r\n        // 总页数 \r\n        pageTotal: {\r\n            type: Number,\r\n            default: 1\r\n        },\r\n\r\n        // 参数内容\r\n        param: {\r\n            type: Object,\r\n            default: function () {\r\n                return {}\r\n            }\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            activeNum: 0\r\n        }\r\n    },\r\n    methods: {\r\n\r\n        // 点击页码刷新数据\r\n        onPageClick (index) {\r\n            this.activeNum = index\r\n        },\r\n\r\n        // 上一页\r\n        onPrevClick () {\r\n\r\n            // 当前页是否为当前最小页码\r\n            if (this.activeNum > 0) {\r\n                this.activeNum = this.activeNum - 1\r\n            } else {\r\n                if (this.pages[0] !== 1) {\r\n                    let newPages = []\r\n\r\n                    for (let i = 0; i < this.pages.length; i++) {\r\n                        newPages[i] = this.pages[i] - 1\r\n                    }\r\n\r\n                    this.pages = newPages\r\n                    this.getData()\r\n                }\r\n            }\r\n        },\r\n\r\n        // 下一页\r\n        onNextClick () {\r\n\r\n            // 当前页是否为当前最大页码\r\n            if (this.activeNum < this.pages.length - 1) {\r\n                this.activeNum = this.activeNum + 1\r\n            } else {\r\n                if (this.pages[this.pages.length - 1] < this.pageTotal) {\r\n                    let newPages = []\r\n\r\n                    for (let i = 0; i < this.pages.length; i++) {\r\n                        newPages[i] = this.pages[i] + 1\r\n                    }\r\n\r\n                    this.pages = newPages\r\n\r\n                    this.getData()\r\n                }\r\n            }\r\n        },\r\n\r\n        // 第一页\r\n        onFirstClick () {\r\n            if (this.pages[0] === 1) {\r\n                this.activeNum = 0\r\n            } else {\r\n                let originPage = []\r\n\r\n                for (let i = 1; i <= this.pageLen; i++) {\r\n                    originPage.push(i)\r\n                }\r\n\r\n                this.pages = originPage\r\n                this.activeNum === 0 ? this.getData() : this.activeNum = 0\r\n            }\r\n        },\r\n\r\n        // 最后一页\r\n        onLastClick () {\r\n            if (this.pageTotal <= this.pageLen) {\r\n                this.activeNum = this.pages.length - 1\r\n            } else {\r\n                let lastPage = []\r\n\r\n                for (let i = this.pageLen - 1; i >= 0; i--) {\r\n                    lastPage.push(this.pageTotal - i)\r\n                }\r\n\r\n                this.pages = lastPage\r\n                this.activeNum === this.pages.length - 1 ? this.getData() : this.activeNum = this.pages.length - 1\r\n            }\r\n        },\r\n\r\n        // 获取页码\r\n        getPages () {\r\n            this.pages = []\r\n\r\n            if (!this.async) {\r\n                this.pageTotal = Math.ceil(this.data.length / this.len)\r\n            }\r\n\r\n            // 比较总页码和显示页数\r\n            if (this.pageTotal <= this.pageLen) {\r\n                for (let i = 1; i <= this.pageTotal; i++) {\r\n                    this.pages.push(i)\r\n                }\r\n            } else {\r\n                for (let i = 1; i <= this.pageLen; i++) {\r\n                    this.pages.push(i)\r\n                }\r\n            }\r\n        },\r\n\r\n        // 页码变化获取数据\r\n        getData () {\r\n            if (!this.async) {\r\n                let len = this.len,\r\n                    pageNum = this.pages[this.activeNum] - 1,\r\n                    newData = [];\r\n\r\n                for (let i = pageNum * len; i < (pageNum * len + len); i++) {\r\n                    this.data[i] !== undefined ? newData.push(this.data[i]) : \'\'\r\n                }\r\n                \r\n                this.$dispatch(\'data\', newData)\r\n            } else {\r\n                this.param.active = this.pages[this.activeNum]\r\n                this.param.len = this.len\r\n\r\n                this.$http({\r\n                    url: this.url, \r\n                    method: \'POST\',\r\n                    data: this.param\r\n                })\r\n                .then(function (response) {\r\n                    this.pageTotal = response.data.page_num\r\n\r\n                    if (this.pages.length !== this.pageLen || this.pageTotal < this.pageLen) {\r\n                        this.getPages()\r\n                    }\r\n\r\n                    if (!response.data.data.length) {\r\n                        this.activeNum = this.pageTotal - 1\r\n                    }\r\n\r\n                    this.$dispatch(\'data\', response.data)\r\n                })\r\n            }\r\n        },\r\n\r\n        // 刷新表格\r\n        refresh () {\r\n            this.getData()\r\n        },\r\n\r\n        // 重置并刷新表格\r\n        refresh2 () {\r\n            this.pages = [1]\r\n\r\n            this.activeNum === 0 ? this.getData() : this.activeNum = 0\r\n        }\r\n    },\r\n    ready () {\r\n        if (!this.async) {\r\n            this.getPages()\r\n        } \r\n\r\n        this.getData()\r\n    },\r\n    watch: {\r\n\r\n        // 监听显示数量\r\n        \'len\' (newVal, oldVal) {\r\n            if (!this.async) {\r\n                this.getPages()\r\n\r\n                if (this.activeNum + 1 > this.pages.length) {\r\n                    this.activeNum = this.pages.length - 1\r\n                }\r\n\r\n                this.getData()\r\n            } else {\r\n                this.refresh2()\r\n            }\r\n        },\r\n\r\n        // 监测当前页变化\r\n        \'activeNum\' (newVal, oldVal) {\r\n            this.getData()\r\n        }\r\n    },\r\n    events: {\r\n        \'refresh::page\' () {\r\n            this.refresh()\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.boot-select {\r\n    float: right;\r\n    width: 80px;\r\n}\r\n\r\n.boot-nav {\r\n    float: right;\r\n}\r\n\r\n.boot-page {\r\n    display: inline-block;\r\n    margin: 2px 10px 0 20px;\r\n    vertical-align: middle;\r\n}\r\n\r\n.page-total {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n</style>'],sourceRoot:"webpack://"}])},74:function(t,e,a){var n=a(71);"string"==typeof n&&(n=[[t.id,n,""]]);a(2)(n,{});n.locals&&(t.exports=n.locals)},76:function(t,e){t.exports='<nav class=boot-nav _v-457beca8=""> <ul class="pagination boot-page" _v-457beca8=""> <li _v-457beca8=""> <a href=javascript:void(0) aria-label=Previous @click=onFirstClick() _v-457beca8=""> <span aria-hidden=true _v-457beca8="">«</span> </a> </li> <li _v-457beca8=""> <a href=javascript:void(0) aria-label=Next @click=onPrevClick() _v-457beca8=""> <span aria-hidden=true _v-457beca8="">‹</span> </a> </li> <li v-for="page in pages" :class="activeNum === $index ? \'active\' : \'\'" _v-457beca8=""> <a href=javascript:void(0) v-text=page @click=onPageClick($index) _v-457beca8=""></a> </li> <li _v-457beca8=""> <a href=javascript:void(0) aria-label=Next @click=onNextClick() _v-457beca8=""> <span aria-hidden=true _v-457beca8="">›</span> </a> </li> <li _v-457beca8=""> <a href=javascript:void(0) aria-label=Next @click=onLastClick() _v-457beca8=""> <span aria-hidden=true _v-457beca8="">»</span> </a> </li> </ul> <div class=page-total _v-457beca8=""> 共 <span v-text=pageTotal _v-457beca8=""></span> 页 </div> </nav> <select class="form-control boot-select" v-model=len _v-457beca8=""> <option v-for="arr in lens" :value=arr v-text=arr :selected="$index === 0 ? true : false" _v-457beca8=""></option> </select>'},184:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(15),i=a(45),s=n(i);e["default"]={data:function(){return{titles:["状态","编号","SN","OS","型号","IP","CPU","内存","说明","发现时间","操作"],tableList:[],lenArr:[10,50,100],pageLen:5,url:"/device/server/auto_list/",param:{}}},methods:{refresh:function(){this.$refs.spinner.show(),this.$refs.page.refresh()}},components:{spinner:r.spinner,bootPage:s["default"]},ready:function(){this.$refs.spinner.show()},events:{data:function(t){this.tableList=t.data,this.$refs.spinner.hide()},refresh:function(){this.refresh()}}}},198:function(t,e,a){e=t.exports=a(1)(),e.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",file:"AutoDiscovery.vue",sourceRoot:"webpack://"}])},225:function(t,e,a){var n=a(198);"string"==typeof n&&(n=[[t.id,n,""]]);a(2)(n,{});n.locals&&(t.exports=n.locals)},259:function(t,e){t.exports='<div _v-2b1fdca8=""> <div class=table-box _v-2b1fdca8=""> <table class="table table-hover table-bordered" _v-2b1fdca8=""> <thead _v-2b1fdca8=""> <tr _v-2b1fdca8=""> <th v-for="title in titles" v-text=title _v-2b1fdca8=""></th> </tr> </thead> <tbody _v-2b1fdca8=""> <tr v-for="list in tableList" v-if="tableList.length !== 0" v-show="tableList.length !== 0" _v-2b1fdca8=""> <td _v-2b1fdca8=""> <span v-if="list.status === \'1\'" class="label label-success" _v-2b1fdca8="">已确定IDC</span> <span v-if="list.status === \'2\'" class="label label-warning" _v-2b1fdca8="">未确定IDC</span> <span v-if="list.status === \'3\'" class="label label-danger" _v-2b1fdca8="">IP冲突</span> </td> <td v-text=list.serverNum :title=list.serverNum _v-2b1fdca8=""></td> <td v-text=list.sn :title=list.sn _v-2b1fdca8=""></td> <td v-text=list.os :title=list.os _v-2b1fdca8=""></td> <td v-text=list.model :title=list.model _v-2b1fdca8=""></td> <td v-text=list.ip :title=list.ip _v-2b1fdca8=""></td> <td v-text=list.cpu :title=list.cpu _v-2b1fdca8=""></td> <td v-text=list.ram :title=list.ram _v-2b1fdca8=""></td> <td v-text=list.remark :title=list.remark _v-2b1fdca8=""></td> <td v-text=list.time :title=list.time _v-2b1fdca8=""></td> <td _v-2b1fdca8=""> <button v-if="list.status === \'1\'" class="btn btn-default set-btn" @click="" _v-2b1fdca8="">加入</button> <button v-if="list.status === \'2\'" class="btn btn-default set-btn" @click="$dispatch(\'showEditServer\', list.id)" _v-2b1fdca8="">加入</button> <button v-if="list.status === \'3\'" class="btn btn-default set-btn" _v-2b1fdca8="">已确定</button> </td> </tr> <tr class=text-center v-show="tableList.length === 0" _v-2b1fdca8=""> <td :colspan=titles.length _v-2b1fdca8="">暂无数据</td> </tr> </tbody> <tfoot _v-2b1fdca8=""> <tr _v-2b1fdca8=""> <td :colspan=titles.length _v-2b1fdca8=""> <boot-page v-ref:page="" :async=true :lens=lenArr :page-len=pageLen :url=url :param=param _v-2b1fdca8=""></boot-page> </td> </tr> </tfoot> </table> <spinner id=spinner-box :size=md :fixed=false text=数据加载中，请稍后... v-ref:spinner="" _v-2b1fdca8=""> </spinner> </div> </div>'},296:function(t,e,a){var n,r;a(225),n=a(184),r=a(259),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options:t.exports).template=r)}});
//# sourceMappingURL=10.build.js.map